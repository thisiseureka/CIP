import{v as f,av as d,e as m,u as g,r as p,q}from"./main-red-poems-invite.js";import{b as y}from"./_applist-952.js";import{c as C}from"./mutative-12.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function T(e,t,i){const{id:s}=f(d),a=m(y),{data:c,isFetching:r,isLoading:u,refetch:h}=g({enabled:i,queryFn:()=>q("connections",{appSlug:e},void 0,"POST"),queryKey:["connections",e||"all","all"],select:n=>n.data||[],staleTime:10*1e3});return p.useEffect(()=>{s&&a(n=>C(n,l=>{const o=l[s];o!=null&&o.states&&(o.states.connections=c)}))},[c,t,s,a]),{connectionRefetch:h,connections:c,isConnectionFetching:r,isConnectionLoading:u}}export{T as u};
