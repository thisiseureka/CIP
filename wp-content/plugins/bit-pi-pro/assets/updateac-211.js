import{a3 as c,a4 as m}from"./_applist-952.js";import{_ as t}from"./main-red-poems-invite.js";import{s}from"./machine.-578.js";import{f as i}from"./machineh-363.js";import{h as p,c as l}from"./suitedas-93.js";import{u as C}from"./suitedas-513.js";import"./lodash-840.js";import"./mutative-12.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const O=c(({helpers:n})=>({states:{components:[l(n),{componentName:n.componentName.select,fieldType:"config",id:"company-id",isLoadable:!0,label:t("Select Company"),onChange:"SET_COMPANY_NAME",onLoadData:"ON_LOAD_COMPANY_DATA",onRefetch:"REFETCH_COMPANY_LIST",optionFilterProp:"label",options:[],placeholder:t("Select a Company"),render:"IF_CONNECTION_SELECTED",required:!0,showSearch:!0,value:void 0},{addItemButtonLabel:"Add Field",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.select,label:t("Field"),name:"suiteDashField",options:C,showSearch:!0,style:{width:150},value:""},{componentName:n.componentName.mixInput,label:t("Value"),name:"value",value:[],wrapperClassName:"w-100"}],id:"companies-list",label:t("Company Field Map"),onChange:"ON_FIELD_MAP_CHANGE",path:"companies",render:"IF_COMPANY_SELECTED",value:[]}]},actions:{SET_CONNECTION:async({$:e,e:a})=>{e.setThisComponent(o=>{o.value=a}),e.setDb(o=>{o.connectionId=a}),await i(e)},IF_CONNECTION_SELECTED:({$:e})=>{var a;return m((a=e.getComponent("connection-id"))==null?void 0:a.value)},IF_COMPANY_SELECTED:({$:e})=>{var a;return(a=e.getComponent("company-id"))==null?void 0:a.value},REFETCH_COMPANY_LIST:async({$:e})=>{await i(e)},ON_FIELD_MAP_CHANGE:async({$:e,e:a})=>{e.setThisComponent(o=>{o.value=a}),e.setDb(o=>{o.companies=a})},SET_COMPANY_NAME:async({$:e,e:a})=>{e.setThisComponent(o=>{o.value=a}),e.setDb(o=>{o.companyId=a})},ON_LOAD_COMPANY_DATA:async({$:e,e:a})=>{await i(e,a.count+1)},CONNECTION_ADD_CHANGE:p,ON_MACHINE_LOAD:async({$:e})=>{var a;s(e,[{db:"connectionId",id:"connection-id"},{db:"companyId",id:"company-id"},{db:"companies",id:"companies-list"}]),(a=e.db)!=null&&a.connectionId&&await i(e)}}}));export{O as default};
