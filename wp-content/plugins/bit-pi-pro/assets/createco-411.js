import{a3 as r,a4 as m}from"./_applist-952.js";import{_ as e}from"./main-red-poems-invite.js";import{s as E}from"./machine.-578.js";import{h as p,a as l,c as s,f as i}from"./machineh-585.js";import"./lodash-840.js";import"./mutative-12.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,a){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,a),a)}};const C=r(({helpers:t})=>({states:{components:[s(t),{componentName:t.componentName.select,helperText:e("Choose the gemini model to use here."),id:"model-id",label:e("Model"),onChange:"SELECT_MODEL",onRefetch:"REFETCH_MODEL",optionFilterProp:"label",options:[],path:"model",placeholder:e("Select a Model"),render:"IF_CONNECTION_SELECTED",showSearch:!0,value:void 0},{addItemButtonLabel:"Add Message",componentName:t.componentName.repeaterField,fieldsMetaData:[{componentName:t.componentName.select,label:e("Role"),name:"role",options:[{label:e("User"),value:"user"},{label:e("Model"),value:"model"}],showSearch:!0,style:{width:120},value:""},{componentName:t.componentName.mixInput,label:e("Message"),name:"value",value:[],wrapperClassName:"w-100"}],id:"message-field-properties",label:e("Messages"),onChange:"SET_MESSAGE_FIELD",path:"messageFieldProperties",render:"IF_CONNECTION_SELECTED",value:[]},{componentName:t.componentName.switch,fieldType:"config",id:"show-advance-feature",label:e("Show Advance Feature"),onChange:"SET_FEATURE",render:"IF_CONNECTION_SELECTED",value:!1},{componentName:t.componentName.mixInput,helperText:e("Enter the The maximum number of tokens to include in an output. Default is 1024."),id:"max-token",label:e("Max Token"),onChange:"SET_MAX_TOKEN",path:"max_token",placeholder:e("Enter the token value"),render:"IF_ADVANCE_FEATURE_SELECTED",value:void 0},{componentName:t.componentName.mixInput,helperText:e(" Controls the randomness of the output. Values can range from [0.0,1.0], inclusive. A value closer to 1.0 will produce responses that are more varied and creative, while a value closer to 0.0 will typically result in more straightforward responses from the model. "),id:"temperature-val",path:"temperature",label:e("Temperatures"),onChange:"SET_TEMPERATURE",placeholder:e("Enter temperature value"),render:"IF_ADVANCE_FEATURE_SELECTED",value:void 0},{componentName:t.componentName.mixInput,helperText:e("The maximum cumulative probability of tokens to consider when sampling. Enter the sampling value between 0.0 to 1.0"),id:"topP-val",path:"topP",label:e("topP Sampling Value"),onChange:"SET_TOP_P",placeholder:e("Enter topP value"),render:"IF_ADVANCE_FEATURE_SELECTED",value:void 0},{componentName:t.componentName.mixInput,helperText:e("The maximum number of tokens to consider when sampling. Enter the sampling value between 1 to 100"),id:"topK-val",path:"topK",label:e("topK Sampling Value"),onChange:"SET_TOP_K",placeholder:e("Enter topK value"),render:"IF_ADVANCE_FEATURE_SELECTED",value:void 0},{componentName:t.componentName.mixInput,helperText:e("The set of character sequence that will stop output generation. If specified, the API will stop at the first appearance of a stop sequence."),path:"stop_sequence",id:"stop-sequence",label:e("Stop Sequence"),onChange:"SET_STOP_SEQUENCE",placeholder:e("Enter stop sequences"),render:"IF_ADVANCE_FEATURE_SELECTED",value:void 0}]},actions:{IF_ADVANCE_FEATURE_SELECTED:({$:a})=>{var o;return((o=a.getComponent("show-advance-feature"))==null?void 0:o.value)===!0},IF_CONNECTION_SELECTED:({$:a})=>{var o;return m((o=a.getComponent("connection-id"))==null?void 0:o.value)},ON_MACHINE_LOAD:async({$:a})=>{E(a,[{db:"connectionId",id:"connection-id"},{db:"modelId",id:"model-id"},{db:"maxToken",id:"max-token"},{db:"temperatureVal",id:"temperature-val"},{db:"topPVal",id:"topP-val"},{db:"topKVal",id:"topK-val"},{db:"messageFieldProperties",id:"message-field-properties"},{db:"showAdvanceFeature",id:"show-advance-feature"},{db:"stopSequence",id:"stop-sequence"}]),await i(a)},REFETCH_MODEL:async({$:a})=>{await i(a)},SELECT_MODEL:l("modelId"),SET_MAX_TOKEN:l("maxToken"),SET_MESSAGE_FIELD:l("messageFieldProperties"),SET_STOP_SEQUENCE:l("stopSequence"),SET_TEMPERATURE:l("temperatureVal"),SET_TOP_K:l("topKVal"),SET_TOP_P:l("topPVal"),SET_CONNECTION:async({$:a,e:o})=>{a.setThisComponent(n=>{n.value=o}),a.setDb(n=>{n.connectionId=o}),await i(a)},SET_FEATURE:async({$:a,e:o})=>{a.setThisComponent(n=>{n.value=o}),a.setDb(n=>{n.showAdvanceFeature=o})},CONNECTION_ADD_CHANGE:p}}));export{C as default};
