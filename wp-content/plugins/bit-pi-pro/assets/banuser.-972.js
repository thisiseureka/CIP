import{a3 as r,a4 as h}from"./_applist-952.js";import{_ as a}from"./main-red-poems-invite.js";import{s as c}from"./machine.-578.js";import{h as i,a as m,c as s}from"./telegram-394.js";import"./lodash-840.js";import"./mutative-12.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const N=r(({helpers:t})=>({states:{components:[s(t),{componentName:t.componentName.mixInput,helperText:a("Enter the Chat ID with the prefix 100 here. For example, if your channel ID is -155545555, then the chat ID will be -100155545555 or the username of the target channel (in the format @channelusername or @supergroupusername)."),id:"chat-id",label:a("Chat ID"),onChange:"SET_CHAT_ID",path:"chat_id",render:"IF_CONNECTION_SELECTED",required:!0,value:[]},{componentName:t.componentName.mixInput,id:"user-id",label:a("User ID"),onChange:"SET_USER_ID",path:"user_id",render:"IF_CONNECTION_SELECTED",required:!0,value:[]},{componentName:t.componentName.mixInput,helperText:a("The invite link to revoke."),id:"ban-until-id",label:a("Ban Until"),onChange:"SET_UNTIL",path:"until_date",render:"IF_CONNECTION_SELECTED",value:[]}]},actions:{SET_CONNECTION:async({$:e,e:n})=>{e.setThisComponent(o=>{o.value=n}),e.setDb(o=>{o.connection=n})},IF_CONNECTION_SELECTED:({$:e})=>{var n;return h((n=e.getComponent("connection-id"))==null?void 0:n.value)},CONNECTION_ADD_CHANGE:m,SET_CHAT_ID:i("chat"),SET_USER_ID:i("user"),SET_UNTIL:i("untilDate"),ON_MACHINE_LOAD:async({$:e})=>{c(e,[{db:"connection",id:"connection-id"},{db:"chat",id:"chat-id"},{db:"user",id:"user-id"},{db:"untilDate",id:"ban-until-id"}])}}}));export{N as default};
