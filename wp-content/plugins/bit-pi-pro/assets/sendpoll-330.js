import{a3 as r,a4 as i}from"./_applist-952.js";import{_ as e}from"./main-red-poems-invite.js";import{s as p}from"./machine.-578.js";import{h as l,a as c,c as d}from"./telegram-394.js";import"./lodash-840.js";import"./mutative-12.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,o){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,o),o)}};const s=[{label:e("Option 1"),value:"0"},{label:e("Option 2"),value:"1"},{label:e("Option 3"),value:"2"},{label:e("Option 4"),value:"3"},{label:e("Option 5"),value:"4"},{label:e("Option 6"),value:"5"},{label:e("Option 7"),value:"6"},{label:e("Option 8"),value:"7"},{label:e("Option 9"),value:"8"},{label:e("Option 10"),value:"9"}];globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,o){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,o),o)}};const T=r(({helpers:t})=>({states:{components:[d(t),{componentName:t.componentName.mixInput,helperText:e("Enter the Chat ID with the prefix 100 here. For example, if your channel ID is -155545555, then the chat ID will be -100155545555 or the username of the target channel (in the format @channelusername or @supergroupusername)."),id:"chat-id",label:e("Chat ID"),onChange:"SET_CHAT_ID",path:"chat_id",render:"IF_CONNECTION_SELECTED",required:!0,value:[]},{componentName:t.componentName.select,id:"poll-id",label:e("Poll Type"),onChange:"SET_POLL_TYPE",options:[{label:e("Regular"),value:"regular"},{label:e("Quiz"),value:"quiz"}],path:"type",placeholder:e("Select Parse Mode"),render:"IF_CONNECTION_SELECTED",required:!0,value:"regular"},{componentName:t.componentName.mixInput,helperText:e("Enter the poll question. Character Limit : 1-300 E.g. First day of the week?"),id:"question-id",label:e("Question"),onChange:"SET_QUESTION",path:"question",render:"IF_CONNECTION_SELECTED",required:!0,value:[]},{addItemButtonLabel:e("Add Options"),componentName:t.componentName.repeaterField,fieldsMetaData:[{componentName:t.componentName.select,id:"options",label:e("Option"),name:"option",options:s,required:!0,style:{width:150},value:""},{componentName:t.componentName.mixInput,label:e("Enter Text"),name:"text",required:!0,value:[],wrapperClassName:"w-100"}],id:"options-list",inputGroupProps:{label:e("Option #{COUNT}")},label:e("Option Fields"),onChange:"ON_FIELD_MAP_CHANGE",render:"IF_CONNECTION_SELECTED",value:[]},{componentName:t.componentName.select,helperText:e("Choose yes, if the poll allows multiple answers, ignored for polls in quiz mode. Defalut value is no."),id:"anonymous-id",label:e("Is Anonymous"),onChange:"SET_ANONYMOUS",options:[{label:e("Yes"),value:"true"},{label:e("No"),value:"false"}],path:"is_anonymous",placeholder:e("Select is Anonymous"),render:"IF_CONNECTION_SELECTED",value:"false"},{componentName:t.componentName.select,id:"multiple-answers-id",label:e("Allows Multiple Answers?"),onChange:"SET_MULTIPLE_ANSWERS",options:[{label:e("Yes"),value:"true"},{label:e("No"),value:"false"}],path:"allows_multiple_answers",placeholder:e("Select Multiple answers"),render:"IF_CONNECTION_SELECTED",value:"false"},{componentName:t.componentName.select,id:"correct-option-id",label:e("Correct Option"),onChange:"SET_CORRECT_OPTION",options:s,path:"correct_option_id",placeholder:e("Select Correct Option"),render:"IF_QUIZ_SELECTED",value:void 0},{componentName:t.componentName.mixInput,helperText:e("Enter the text that is shown when a user chooses an incorrect answer or taps on the lamp icon in a quiz-style poll, 0-200 characters with at most 2 line feeds after entities parsing."),id:"explanation-id",label:e("Answer Explanation"),onChange:"SET_EXPLANAITON",path:"explanation",render:"IF_QUIZ_SELECTED",required:!0,value:[]},{componentName:t.componentName.select,helperText:e("Select Markdown-style or HTML-style of the text, if you want Telegram apps to show bold, italic, fixed-width text or inline URLs in your bots message."),id:"parse-id",label:e("Parse Mode"),onChange:"SET_PARSE_MODE",options:[{label:e("HTML"),value:"HTML"},{label:e("Markdown"),value:"MarkdownV2"}],path:"parse_mode",placeholder:e("Select Parse Mode"),render:"IF_QUIZ_SELECTED",required:!0,value:"HTML"},{componentName:t.componentName.mixInput,helperText:e("Enter the point in time (Unix timestamp) when the poll will be automatically closed. Must be at least 5 seconds and no more than 600 seconds in the future."),id:"closed-date-id",label:e("Closed Date"),onChange:"SET_CLOSE_DATE",path:"close_date",render:"IF_CONNECTION_SELECTED",value:[]},{componentName:t.componentName.select,helperText:e("Choose yes to send the message silently. Users will receive a notification with no sound."),id:"notifications-id",label:e("Disable Notifications"),onChange:"SET_NOTIFICATIONS",options:[{label:e("Yes"),value:"true"},{label:e("No"),value:"false"}],path:"disable_notification",placeholder:e("Choose to disable notification"),render:"IF_CONNECTION_SELECTED",value:"false"},{componentName:t.componentName.select,helperText:e("Choose yes if you want to protects the contents of the sent message from forwarding and saving."),id:"protect-id",label:e("Protect Content?"),onChange:"SET_PROTECT_CONTENT",options:[{label:e("Yes"),value:"true"},{label:e("No"),value:"false"}],path:"protect_content",placeholder:e("Choose Protect Content"),render:"IF_CONNECTION_SELECTED",value:"false"}]},actions:{SET_CONNECTION:async({$:o,e:n})=>{o.setThisComponent(a=>{a.value=n}),o.setDb(a=>{a.connection=n})},IF_CONNECTION_SELECTED:({$:o})=>{var n;return i((n=o.getComponent("connection-id"))==null?void 0:n.value)},IF_QUIZ_SELECTED:({$:o})=>{var n,a;if(i((n=o.getComponent("connection-id"))==null?void 0:n.value)&&((a=o.getComponent("poll-id"))==null?void 0:a.value)==="quiz")return!0},CONNECTION_ADD_CHANGE:c,SET_CHAT_ID:l("chat"),SET_POLL_TYPE:({$:o,e:n})=>{o.setThisComponent(a=>{a.value=n}),o.setDb(a=>{a.poll=n}),n==="regular"&&o.setComponent("correct-option-id",a=>{a.value=void 0})},SET_QUESTION:l("question"),SET_PARSE_MODE:l("parse"),SET_ANONYMOUS:l("anonymous"),SET_MULTIPLE_ANSWERS:l("multipleAnswer"),SET_EXPLANAITON:l("explanation"),ON_FIELD_MAP_CHANGE:l("options"),SET_CLOSE_DATE:l("closedDate"),SET_NOTIFICATIONS:l("notifications"),SET_CORRECT_OPTION:l("correctOption"),SET_PROTECT_CONTENT:l("protectContent"),ON_MACHINE_LOAD:async({$:o})=>{p(o,[{db:"connection",id:"connection-id"},{db:"chat",id:"chat-id"},{db:"poll",id:"poll-id"},{db:"question",id:"question-id"},{db:"options",id:"options-list"},{db:"anonymous",id:"anonymous-id"},{db:"multipleAnswer",id:"multiple-answers-id"},{db:"correctOption",id:"correct-option-id"},{db:"explanation",id:"explanation-id"},{db:"parse",id:"parse-id"},{db:"closedDate",id:"closed-date-id"},{db:"notifications",id:"notifications-id"},{db:"protectContent",id:"protect-id"}])}}}));export{T as default};
