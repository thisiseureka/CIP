import{au as y,r as f,N as p,g as x,q as T,a as r,j as t,_ as o,S as b,aY as C,F as _,y as l,B as h,s as D,n as d}from"./main-red-poems-invite.js";import{u as j}from"./usewebho-570.js";import{P as A}from"./pro-feat-184.js";import{L as u,h as N,d as W}from"./index-863.js";import{T as w}from"./index-384.js";import{D as L,P as k}from"./index-924.js";import"./index-567.js";import"./extendso-287.js";import"./index-630.js";import"./searchou-927.js";import"./usebreak-848.js";import"./paginati-257.js";import"./col-740.js";import"./index-836.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,s){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,s),s)}};function F(){const a=y(),{messageApi:s}=f.useContext(p),{isPending:n,mutateAsync:c}=x({mutationFn:async i=>T(`pro_webhooks/${i}/delete`),mutationKey:["delete_webhook"],onError:i=>{s==null||s.warning(i.data)},onSuccess:({data:i})=>{a.setQueryData(["webhooks","all","all"],e=>e&&{...e,data:e.data.filter(({id:g})=>g!==i)})}});return{deleteWebhook:c,isWebhookDeleting:n}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,s){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,s),s)}};const{Link:M,Text:m,Title:v}=w;var P={name:"f3vz0n",styles:"font-weight:500"};function H(){const{isWebhookLoading:a,webhooks:s}=j(),{deleteWebhook:n}=F(),{messageApi:c}=f.useContext(p),i=async e=>{await n(e),c==null||c.success("Webhook deleted successfully")};return r("div",{className:"p-6",children:[r("div",{className:"mb-4 flex items-center gap-2",children:[t(v,{className:"mb-0",level:3,children:o("Webhooks")}),t(A,{})]}),t(L,{style:{marginTop:6}}),t(u,{dataSource:s,itemLayout:"horizontal",loading:a,renderItem:e=>t(u.Item,{actions:[t(_,{children:r("div",{className:"space-x-2",children:[r(m,{className:"inline-flex flex-col text-right",type:"secondary",children:[t("span",{children:N(e.created_at,new Date)}),t("small",{children:W(`${l.DATE_FORMAT} | ${l.TIME_FORMAT}`,e.created_at)})]}),r("div",{className:"inline-flex w-80 justify-end space-x-2",children:[(e==null?void 0:e.flow_id)&&t(h,{href:`#/flows/details/${e.flow_id}`,icon:t(D,{}),iconPosition:"end",target:"_blank",children:o("Go to Flow")}),t(k,{cancelText:o("No"),description:o("Are you sure to delete this webhook?"),icon:t(d,{color:"red"}),okText:o("Yes"),onConfirm:()=>i(e.id),title:o("Delete the webhook"),children:t(h,{icon:t(d,{}),children:o("Delete")})},"delete")]})]})})],children:r(b,{direction:"vertical",size:0,children:[t(m,{css:P,children:e.title}),t(M,{className:"text-xs text-slate-500",copyable:{icon:[t(C,{},"copy-icon")]},href:e.url,children:e.url})]})})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,s){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,s),s)}};export{H as default};
