!function(t,e){"use strict";var o=function(t,e){var o=t.find(".bdt-advanced-gmap"),n=t.find(".bdt-advanced-map"),i=o.data("map_settings"),r=o.data("map_markers"),s=t.find("ul.bdt-gmap-lists div.bdt-gmap-list-item"),l=t.find(".bdt-search"),p=t.find(".bdt-search-input"),d=t.find(".bdt-gmap-search-wrapper > form");o.length&&(elementorFrontend.isEditMode()?a(n,i,r,s,l,p,d,o):window.addEventListener("load",(function(){a(n,i,r,s,l,p,d,o)})))};function n(t,e){var o=""!==e?`<div class="bdt-map-tooltip-top-image"><img class="bdt-map-image" src="${e}" alt="" /></div>`:"",n=void 0!==t.website?`<a href="${t.website}">${t.website}</a>`:"",a=void 0!==t.phone?`<a href="tel:${t.phone}">${t.phone}</a>`:"",i=void 0!==t.content?`<span class="bdt-tooltip-content">${t.content}</span><br>`:"",r=void 0!==t.place?`<h5 class="bdt-tooltip-place">${t.place}</h5>`:"";return`<div class="bdt-map-tooltip-view">\n                    <div class="bdt-map-tooltip-view-inner">\n                        ${o}\n                        <div class="bdt-map-tooltip-bottom-footer">\n                            ${void 0!==t.title?`<h4 class="bdt-tooltip-title">${t.title}</h4>`:""}\n                            ${r}\n                            ${i}\n                            ${n}\n                            ${a}\n                        </div>\n                    </div>\n                </div>`}var a=function(e,o,a,i,r,s,l,p){e.removeAttr("style");var d={center:{lat:parseFloat(o.lat),lng:parseFloat(o.lng)},zoom:o.zoom||15,mapTypeId:google.maps.MapTypeId[o.mapTypeId?.toUpperCase()]||google.maps.MapTypeId.ROADMAP,zoomControl:void 0===o.zoomControl||o.zoomControl,zoomControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},mapTypeControl:void 0===o.mapTypeControl||o.mapTypeControl,streetViewControl:void 0===o.streetViewControl||o.streetViewControl,scrollwheel:void 0===o.scrollwheel||o.scrollwheel,fullscreenControl:!0},m=p[0],c=new google.maps.Map(m,d),g=[],v=new google.maps.InfoWindow;for(var f in a){var u=void 0!==a[f].image?a[f].image:"",w={position:{lat:parseFloat(a[f].lat),lng:parseFloat(a[f].lng)},map:c,title:a[f].title};a[f].icon&&(w.icon=a[f].icon);var h=new google.maps.Marker(w);!function(t,e,o){var a=n(e,o);google.maps.event.addListener(t,"click",(function(){v.setContent(a),v.open(c,t)}))}(h,a[f],u),g.push(h)}if(p.data("map_style"))try{var y=p.data("map_style");"string"==typeof y&&(y=JSON.parse(y)),c.setOptions({styles:y})}catch(t){console.error("Error parsing map styles:",t)}function b(e,o){t(e).filter((function(){t(this).toggle(t(this).text().toLowerCase().indexOf(o)>-1)}))}p.data("map_geocode")&&t(l).on("submit",(function(e){e.preventDefault();var o=new google.maps.Geocoder,n=t(this).find(".bdt-search-input").val().trim();o.geocode({address:n},(function(t,e){if("OK"===e){var o=t[0].geometry.location;c.setCenter(o),new google.maps.Marker({map:c,position:o})}}))})),t(i).on("click",(function(e){var a=t(this).data("settings");if(a){var i={lat:parseFloat(a.lat),lng:parseFloat(a.lng)};c.setCenter(i),c.setZoom(o.zoom);var r=void 0!==a.image?a.image[0]:"",s=new google.maps.Marker({position:i,map:c,title:a.title});a.icon&&s.setIcon(a.icon);var l=n(a,r);if(v.setContent(l),v.open(c,s),p.data("map_style"))try{var d=p.data("map_style");"string"==typeof d&&(d=JSON.parse(d)),c.setOptions({styles:d})}catch(e){console.error("Error parsing map styles:",e)}}})),t(r).on("submit",(function(e){e.preventDefault();let o=t(s).val().toLowerCase();b(i,o)})),t(s).on("keyup",(function(){let e=t(this).val().toLowerCase();b(i,e)}))};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-advanced-gmap.default",o)}))}(jQuery,window.elementorFrontend);