(()=>{"use strict";var e={20:(e,t,n)=>{var a=n(609),r=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var a,l={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:i.current}}t.jsx=l,t.jsxs=l},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a=n(609);const r=window.wp.components,s=window.wp.domReady;var i=n.n(s);const o=window.wp.element;var l={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function c(e){return`[nuqs] ${l[e]}\n  See https://err.47ng.com/NUQS-${e}`}var u=function(){try{if("undefined"==typeof localStorage)return!1;const e="nuqs-localStorage-test";localStorage.setItem(e,e);const t=localStorage.getItem(e)===e;if(localStorage.removeItem(e),!t)return!1}catch(e){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",e),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}();function d(e,...t){if(!u)return;const n=function(e,...t){return e.replace(/%[sfdO]/g,(e=>{const n=t.shift();return"%O"===e&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)}))}(e,...t);performance.mark(n);try{console.log(e,...t)}catch(e){console.log(n)}}var m=(0,a.createContext)({useAdapter(){throw new Error(c(404))}});function h(e,t,n){try{return e(t)}catch(e){return function(e,...t){u&&console.warn(e,...t)}("[nuqs] Error while parsing value `%s`: %O"+(n?" (for key `%s`)":""),t,e,n),null}}m.displayName="NuqsAdapterContext",u&&"undefined"!=typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==m&&console.error(c(303)),window.__NuqsAdapterContext=m);var p=function(){if("undefined"==typeof window)return 50;if(!Boolean(window.GestureEvent))return 50;try{const e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),g=new Map,f={history:"replace",scroll:!1,shallow:!0,throttleMs:p},y=new Set,_=0,v=null;function w(){return new URLSearchParams(location.search)}function E({getSearchParamsSnapshot:e=w,updateUrl:t,rateLimitFactor:n=1}){return null===v&&(v=new Promise(((a,r)=>{if(!Number.isFinite(f.throttleMs))return d("[nuqs queue] Skipping flush due to throttleMs=Infinity"),a(e()),void setTimeout((()=>{v=null}),0);function s(){_=performance.now();const[n,s]=function({updateUrl:e,getSearchParamsSnapshot:t}){const n=t();if(0===g.size)return[n,null];const a=Array.from(g.entries()),r={...f},s=Array.from(y);g.clear(),y.clear(),f.history="replace",f.scroll=!1,f.shallow=!0,f.throttleMs=p,d("[nuqs queue] Flushing queue %O with options %O",a,r);for(const[e,t]of a)null===t?n.delete(e):n.set(e,t);try{return function(t){const a=s=>{if(s===t.length)return void e(n,{history:r.history,scroll:r.scroll,shallow:r.shallow});const i=t[s];if(!i)throw new Error("Invalid transition function");i((()=>a(s+1)))};a(0)}(s),[n,null]}catch(e){return console.error(c(429),a.map((([e])=>e)).join(),e),[n,e]}}({updateUrl:t,getSearchParamsSnapshot:e});null===s?a(n):r(n),v=null}setTimeout((function(){const e=performance.now()-_,t=f.throttleMs,a=n*Math.max(0,Math.min(t,t-e));d("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",a,t),0===a?s():setTimeout(s,a)}),0)}))),v}function x(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}}function b(e){function t(t){if(void 0===t)return null;let n="";if(Array.isArray(t)){if(void 0===t[0])return null;n=t[0]}return"string"==typeof t&&(n=t),h(e.parse,n)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:n=>t(n)??e}},withOptions(e){return{...this,...e}}}}var S=b({parse:e=>e,serialize:e=>`${e}`}),k=b({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});function T(e,t){return e.valueOf()===t.valueOf()}b({parse:e=>{const t=k.parse(e);return null===t?null:t-1},serialize:e=>k.serialize(e+1)}),b({parse:e=>{const t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{const t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),b({parse:e=>{const t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),b({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),b({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:T}),b({parse:e=>{const t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:T});var M=b({parse:e=>{const t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:T});function C(e){return b({parse:t=>{try{const n=JSON.parse(t);return e(n)}catch{return null}},serialize:e=>JSON.stringify(e),eq:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t)})}var N,O,A=x();function L(e,{history:t="replace",shallow:n=!0,scroll:r=!1,throttleMs:s=p,parse:i=e=>e,serialize:o=String,eq:l=(e,t)=>e===t,defaultValue:u,clearOnDefault:_=!0,startTransition:v}={history:"replace",scroll:!1,shallow:!0,throttleMs:p,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!0,defaultValue:void 0}){const w=function(){const e=(0,a.useContext)(m);if(!("useAdapter"in e))throw new Error(c(404));return e.useAdapter()}(),x=w.searchParams,b=(0,a.useRef)(x?.get(e)??null),[S,k]=(0,a.useState)((()=>{const t=function(e){return g.get(e)}(e),n=void 0===t?x?.get(e)??null:t;return null===n?null:h(i,n,e)})),T=(0,a.useRef)(S);d("[nuqs `%s`] render - state: %O, iSP: %s",e,S,x?.get(e)??null),(0,a.useEffect)((()=>{const t=x?.get(e)??null;if(t===b.current)return;const n=null===t?null:h(i,t,e);d("[nuqs `%s`] syncFromUseSearchParams %O",e,n),T.current=n,b.current=t,k(n)}),[x?.get(e),e]),(0,a.useEffect)((()=>{function t({state:t,query:n}){d("[nuqs `%s`] updateInternalState %O",e,t),T.current=t,b.current=n,k(t)}return d("[nuqs `%s`] subscribing to sync",e),A.on(e,t),()=>{d("[nuqs `%s`] unsubscribing from sync",e),A.off(e,t)}}),[e]);const M=(0,a.useCallback)(((a,i={})=>{let c=function(e){return"function"==typeof e}(a)?a(T.current??u??null):a;(i.clearOnDefault??_)&&null!==c&&void 0!==u&&l(c,u)&&(c=null);const m=function(e,t,n,a){const r=null===t?null:n(t);return d("[nuqs queue] Enqueueing %s=%s %O",e,r,a),g.set(e,r),"push"===a.history&&(f.history="push"),a.scroll&&(f.scroll=!0),!1===a.shallow&&(f.shallow=!1),a.startTransition&&y.add(a.startTransition),f.throttleMs=Math.max(a.throttleMs??p,Number.isFinite(f.throttleMs)?f.throttleMs:0),r}(e,c,o,{history:i.history??t,shallow:i.shallow??n,scroll:i.scroll??r,throttleMs:i.throttleMs??s,startTransition:i.startTransition??v});return A.emit(e,{state:c,query:m}),E(w)}),[e,t,n,r,s,v,w.updateUrl,w.getSearchParamsSnapshot,w.rateLimitFactor]);return[S??u??null,M]}!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(_x){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),a={};for(const e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(N||(N={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(O||(O={}));const I=N.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),P=e=>{switch(typeof e){case"undefined":return I.undefined;case"string":return I.string;case"number":return isNaN(e)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(e)?I.array:null===e?I.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?I.promise:"undefined"!=typeof Map&&e instanceof Map?I.map:"undefined"!=typeof Set&&e instanceof Set?I.set:"undefined"!=typeof Date&&e instanceof Date?I.date:I.object;default:return I.unknown}},D=N.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class j extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,a=0;for(;a<r.path.length;){const n=r.path[a];a===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof j))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,N.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}j.create=e=>new j(e);const Z=(e,t)=>{let n;switch(e.code){case D.invalid_type:n=e.received===I.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case D.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,N.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:n=`Unrecognized key(s) in object: ${N.joinValues(e.keys,", ")}`;break;case D.invalid_union:n="Invalid input";break;case D.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${N.joinValues(e.options)}`;break;case D.invalid_enum_value:n=`Invalid enum value. Expected ${N.joinValues(e.options)}, received '${e.received}'`;break;case D.invalid_arguments:n="Invalid function arguments";break;case D.invalid_return_type:n="Invalid function return type";break;case D.invalid_date:n="Invalid date";break;case D.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:N.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case D.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case D.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case D.custom:n="Invalid input";break;case D.invalid_intersection_types:n="Intersection results could not be merged";break;case D.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case D.not_finite:n="Number must be finite";break;default:n=t.defaultError,N.assertNever(e)}return{message:n}};let F=Z;function z(){return F}const R=e=>{const{data:t,path:n,errorMaps:a,issueData:r}=e,s=[...n,...r.path||[]],i={...r,path:s};if(void 0!==r.message)return{...r,path:s,message:r.message};let o="";const l=a.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(i,{data:t,defaultError:o}).message;return{...r,path:s,message:o}};function H(e,t){const n=z(),a=R({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Z?void 0:Z].filter((e=>!!e))});e.common.issues.push(a)}class ${constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return U;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,a=await e.value;n.push({key:t,value:a})}return $.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:r}=a;if("aborted"===t.status)return U;if("aborted"===r.status)return U;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!a.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const U=Object.freeze({status:"aborted"}),q=e=>({status:"dirty",value:e}),W=e=>({status:"valid",value:e}),B=e=>"aborted"===e.status,V=e=>"dirty"===e.status,Y=e=>"valid"===e.status,G=e=>"undefined"!=typeof Promise&&e instanceof Promise;function Q(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)}function K(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n}var J,X,ee;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(J||(J={}));class te{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ne=(e,t)=>{if(Y(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new j(e.common.issues);return this._error=t,this._error}}};function ae(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:r}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(t,r)=>{var s,i;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:r.defaultError}:void 0===r.data?{message:null!==(s=null!=o?o:a)&&void 0!==s?s:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(i=null!=o?o:n)&&void 0!==i?i:r.defaultError}},description:r}}class re{get description(){return this._def.description}_getType(e){return P(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:P(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $,ctx:{common:e.parent.common,data:e.data,parsedType:P(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(G(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:P(e)},r=this._parseSync({data:e,path:a.path,parent:a});return ne(a,r)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:P(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return Y(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then((e=>Y(e)?{value:e.value}:{issues:a.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:P(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(G(a)?a:Promise.resolve(a));return ne(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,a)=>{const r=e(t),s=()=>a.addIssue({code:D.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(s(),!1))):!!r||(s(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1)))}_refinement(e){return new rt({schema:this,typeName:yt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return st.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ze.create(this)}promise(){return at.create(this,this._def)}or(e){return $e.create([this,e],this._def)}and(e){return Be.create(this,e,this._def)}transform(e){return new rt({...ae(this._def),schema:this,typeName:yt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ot({...ae(this._def),innerType:this,defaultValue:t,typeName:yt.ZodDefault})}brand(){return new dt({typeName:yt.ZodBranded,type:this,...ae(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new lt({...ae(this._def),innerType:this,catchValue:t,typeName:yt.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return mt.create(this,e)}readonly(){return ht.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const se=/^c[^\s-]{8,}$/i,ie=/^[0-9a-z]+$/,oe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,le=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ce=/^[a-z0-9_-]{21}$/i,ue=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,de=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,me=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let he;const pe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ye=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ve=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,we="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ee=new RegExp(`^${we}$`);function xe(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function be(e){let t=`${we}T${xe(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Se(e,t){if(!ue.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return!("object"!=typeof r||null===r||!r.typ||!r.alg||t&&r.alg!==t)}catch(e){return!1}}function ke(e,t){return!("v4"!==t&&t||!ge.test(e))||!("v6"!==t&&t||!ye.test(e))}class Te extends re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.string,received:t.parsedType}),U}const t=new $;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:D.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:D.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const a=e.data.length>s.value,r=e.data.length<s.value;(a||r)&&(n=this._getOrReturnCtx(e,n),a?H(n,{code:D.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):r&&H(n,{code:D.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)me.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"email",code:D.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)he||(he=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),he.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"emoji",code:D.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)le.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"uuid",code:D.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)ce.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"nanoid",code:D.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)se.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cuid",code:D.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)ie.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cuid2",code:D.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)oe.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"ulid",code:D.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),H(n,{validation:"url",code:D.invalid_string,message:s.message}),t.dirty()}else"regex"===s.kind?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"regex",code:D.invalid_string,message:s.message}),t.dirty())):"trim"===s.kind?e.data=e.data.trim():"includes"===s.kind?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty()):"toLowerCase"===s.kind?e.data=e.data.toLowerCase():"toUpperCase"===s.kind?e.data=e.data.toUpperCase():"startsWith"===s.kind?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty()):"endsWith"===s.kind?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty()):"datetime"===s.kind?be(s).test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:"datetime",message:s.message}),t.dirty()):"date"===s.kind?Ee.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:"date",message:s.message}),t.dirty()):"time"===s.kind?new RegExp(`^${xe(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:D.invalid_string,validation:"time",message:s.message}),t.dirty()):"duration"===s.kind?de.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"duration",code:D.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(a=e.data,("v4"!==(r=s.version)&&r||!pe.test(a))&&("v6"!==r&&r||!fe.test(a))&&(n=this._getOrReturnCtx(e,n),H(n,{validation:"ip",code:D.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?Se(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"jwt",code:D.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?ke(e.data,s.version)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cidr",code:D.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?_e.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"base64",code:D.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?ve.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"base64url",code:D.invalid_string,message:s.message}),t.dirty()):N.assertNever(s);var a,r;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:D.invalid_string,...J.errToObj(n)})}_addCheck(e){return new Te({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...J.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...J.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...J.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...J.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...J.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...J.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...J.errToObj(t)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new Te({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Te({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Te({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Me(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}Te.create=e=>{var t;return new Te({checks:[],typeName:yt.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ae(e)})};class Ce extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.number,received:t.parsedType}),U}let t;const n=new $;for(const a of this._def.checks)"int"===a.kind?N.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),H(t,{code:D.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"multipleOf"===a.kind?0!==Me(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),H(t,{code:D.not_finite,message:a.message}),n.dirty()):N.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,a){return new Ce({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(a)}]})}_addCheck(e){return new Ce({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&N.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ce.create=e=>new Ce({checks:[],typeName:yt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...ae(e)});class Ne extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==I.bigint)return this._getInvalidInput(e);let t;const n=new $;for(const a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),H(t,{code:D.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):N.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.bigint,received:t.parsedType}),U}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,a){return new Ne({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(a)}]})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ne.create=e=>{var t;return new Ne({checks:[],typeName:yt.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ae(e)})};class Oe extends re{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==I.boolean){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.boolean,received:t.parsedType}),U}return W(e.data)}}Oe.create=e=>new Oe({typeName:yt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...ae(e)});class Ae extends re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.date,received:t.parsedType}),U}if(isNaN(e.data.getTime()))return H(this._getOrReturnCtx(e),{code:D.invalid_date}),U;const t=new $;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:D.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:D.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):N.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ae({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Ae.create=e=>new Ae({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:yt.ZodDate,...ae(e)});class Le extends re{_parse(e){if(this._getType(e)!==I.symbol){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.symbol,received:t.parsedType}),U}return W(e.data)}}Le.create=e=>new Le({typeName:yt.ZodSymbol,...ae(e)});class Ie extends re{_parse(e){if(this._getType(e)!==I.undefined){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.undefined,received:t.parsedType}),U}return W(e.data)}}Ie.create=e=>new Ie({typeName:yt.ZodUndefined,...ae(e)});class Pe extends re{_parse(e){if(this._getType(e)!==I.null){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.null,received:t.parsedType}),U}return W(e.data)}}Pe.create=e=>new Pe({typeName:yt.ZodNull,...ae(e)});class De extends re{constructor(){super(...arguments),this._any=!0}_parse(e){return W(e.data)}}De.create=e=>new De({typeName:yt.ZodAny,...ae(e)});class je extends re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return W(e.data)}}je.create=e=>new je({typeName:yt.ZodUnknown,...ae(e)});class Ze extends re{_parse(e){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.never,received:t.parsedType}),U}}Ze.create=e=>new Ze({typeName:yt.ZodNever,...ae(e)});class Fe extends re{_parse(e){if(this._getType(e)!==I.undefined){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.void,received:t.parsedType}),U}return W(e.data)}}Fe.create=e=>new Fe({typeName:yt.ZodVoid,...ae(e)});class ze extends re{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==I.array)return H(t,{code:D.invalid_type,expected:I.array,received:t.parsedType}),U;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(H(t,{code:e?D.too_big:D.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(H(t,{code:D.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(H(t,{code:D.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>a.type._parseAsync(new te(t,e,t.path,n))))).then((e=>$.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>a.type._parseSync(new te(t,e,t.path,n))));return $.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new ze({...this._def,minLength:{value:e,message:J.toString(t)}})}max(e,t){return new ze({...this._def,maxLength:{value:e,message:J.toString(t)}})}length(e,t){return new ze({...this._def,exactLength:{value:e,message:J.toString(t)}})}nonempty(e){return this.min(1,e)}}function Re(e){if(e instanceof He){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=st.create(Re(a))}return new He({...e._def,shape:()=>t})}return e instanceof ze?new ze({...e._def,type:Re(e.element)}):e instanceof st?st.create(Re(e.unwrap())):e instanceof it?it.create(Re(e.unwrap())):e instanceof Ve?Ve.create(e.items.map((e=>Re(e)))):e}ze.create=(e,t)=>new ze({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yt.ZodArray,...ae(t)});class He extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=N.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==I.object){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.object,received:t.parsedType}),U}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ze&&"strip"===this._def.unknownKeys))for(const e in n.data)r.includes(e)||s.push(e);const i=[];for(const e of r){const t=a[e],r=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new te(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Ze){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(H(n,{code:D.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const a=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new te(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e})).then((e=>$.mergeObjectSync(t,e))):$.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new He({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,r,s,i;const o=null!==(s=null===(r=(a=this._def).errorMap)||void 0===r?void 0:r.call(a,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=J.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(e){return new He({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new He({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:yt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new He({...this._def,catchall:e})}pick(e){const t={};return N.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new He({...this._def,shape:()=>t})}omit(e){const t={};return N.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new He({...this._def,shape:()=>t})}deepPartial(){return Re(this)}partial(e){const t={};return N.objectKeys(this.shape).forEach((n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()})),new He({...this._def,shape:()=>t})}required(e){const t={};return N.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof st;)e=e._def.innerType;t[n]=e}})),new He({...this._def,shape:()=>t})}keyof(){return et(N.objectKeys(this.shape))}}He.create=(e,t)=>new He({shape:()=>e,unknownKeys:"strip",catchall:Ze.create(),typeName:yt.ZodObject,...ae(t)}),He.strictCreate=(e,t)=>new He({shape:()=>e,unknownKeys:"strict",catchall:Ze.create(),typeName:yt.ZodObject,...ae(t)}),He.lazycreate=(e,t)=>new He({shape:e,unknownKeys:"strip",catchall:Ze.create(),typeName:yt.ZodObject,...ae(t)});class $e extends re{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new j(e.ctx.common.issues)));return H(t,{code:D.invalid_union,unionErrors:n}),U}));{let e;const a=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=a.map((e=>new j(e)));return H(t,{code:D.invalid_union,unionErrors:r}),U}}get options(){return this._def.options}}$e.create=(e,t)=>new $e({options:e,typeName:yt.ZodUnion,...ae(t)});const Ue=e=>e instanceof Je?Ue(e.schema):e instanceof rt?Ue(e.innerType()):e instanceof Xe?[e.value]:e instanceof tt?e.options:e instanceof nt?N.objectValues(e.enum):e instanceof ot?Ue(e._def.innerType):e instanceof Ie?[void 0]:e instanceof Pe?[null]:e instanceof st?[void 0,...Ue(e.unwrap())]:e instanceof it?[null,...Ue(e.unwrap())]:e instanceof dt||e instanceof ht?Ue(e.unwrap()):e instanceof lt?Ue(e._def.innerType):[];class qe extends re{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.object)return H(t,{code:D.invalid_type,expected:I.object,received:t.parsedType}),U;const n=this.discriminator,a=t.data[n],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(H(t,{code:D.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const n of t){const t=Ue(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(a.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);a.set(r,n)}}return new qe({typeName:yt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...ae(n)})}}function We(e,t){const n=P(e),a=P(t);if(e===t)return{valid:!0,data:e};if(n===I.object&&a===I.object){const n=N.objectKeys(t),a=N.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r={...e,...t};for(const n of a){const a=We(e[n],t[n]);if(!a.valid)return{valid:!1};r[n]=a.data}return{valid:!0,data:r}}if(n===I.array&&a===I.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const r=We(e[a],t[a]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===I.date&&a===I.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Be extends re{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(B(e)||B(a))return U;const r=We(e.value,a.value);return r.valid?((V(e)||V(a))&&t.dirty(),{status:t.value,value:r.data}):(H(n,{code:D.invalid_intersection_types}),U)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>a(e,t))):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Be.create=(e,t,n)=>new Be({left:e,right:t,typeName:yt.ZodIntersection,...ae(n)});class Ve extends re{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==I.array)return H(n,{code:D.invalid_type,expected:I.array,received:n.parsedType}),U;if(n.data.length<this._def.items.length)return H(n,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&n.data.length>this._def.items.length&&(H(n,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new te(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(a).then((e=>$.mergeArray(t,e))):$.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Ve({...this._def,rest:e})}}Ve.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ve({items:e,typeName:yt.ZodTuple,rest:null,...ae(t)})};class Ye extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==I.object)return H(n,{code:D.invalid_type,expected:I.object,received:n.parsedType}),U;const a=[],r=this._def.keyType,s=this._def.valueType;for(const e in n.data)a.push({key:r._parse(new te(n,e,n.path,e)),value:s._parse(new te(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?$.mergeObjectAsync(t,a):$.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new Ye(t instanceof re?{keyType:e,valueType:t,typeName:yt.ZodRecord,...ae(n)}:{keyType:Te.create(),valueType:e,typeName:yt.ZodRecord,...ae(t)})}}class Ge extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==I.map)return H(n,{code:D.invalid_type,expected:I.map,received:n.parsedType}),U;const a=this._def.keyType,r=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:a._parse(new te(n,e,n.path,[s,"key"])),value:r._parse(new te(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const a=await n.key,r=await n.value;if("aborted"===a.status||"aborted"===r.status)return U;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const a=n.key,r=n.value;if("aborted"===a.status||"aborted"===r.status)return U;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}Ge.create=(e,t,n)=>new Ge({valueType:t,keyType:e,typeName:yt.ZodMap,...ae(n)});class Qe extends re{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==I.set)return H(n,{code:D.invalid_type,expected:I.set,received:n.parsedType}),U;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(H(n,{code:D.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(H(n,{code:D.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const r=this._def.valueType;function s(e){const n=new Set;for(const a of e){if("aborted"===a.status)return U;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>r._parse(new te(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>s(e))):s(i)}min(e,t){return new Qe({...this._def,minSize:{value:e,message:J.toString(t)}})}max(e,t){return new Qe({...this._def,maxSize:{value:e,message:J.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Qe.create=(e,t)=>new Qe({valueType:e,minSize:null,maxSize:null,typeName:yt.ZodSet,...ae(t)});class Ke extends re{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.function)return H(t,{code:D.invalid_type,expected:I.function,received:t.parsedType}),U;function n(e,n){return R({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,z(),Z].filter((e=>!!e)),issueData:{code:D.invalid_arguments,argumentsError:n}})}function a(e,n){return R({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,z(),Z].filter((e=>!!e)),issueData:{code:D.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof at){const e=this;return W((async function(...t){const i=new j([]),o=await e._def.args.parseAsync(t,r).catch((e=>{throw i.addIssue(n(t,e)),i})),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,r).catch((e=>{throw i.addIssue(a(l,e)),i}))}))}{const e=this;return W((function(...t){const i=e._def.args.safeParse(t,r);if(!i.success)throw new j([n(t,i.error)]);const o=Reflect.apply(s,this,i.data),l=e._def.returns.safeParse(o,r);if(!l.success)throw new j([a(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ke({...this._def,args:Ve.create(e).rest(je.create())})}returns(e){return new Ke({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ke({args:e||Ve.create([]).rest(je.create()),returns:t||je.create(),typeName:yt.ZodFunction,...ae(n)})}}class Je extends re{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Je.create=(e,t)=>new Je({getter:e,typeName:yt.ZodLazy,...ae(t)});class Xe extends re{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return H(t,{received:t.data,code:D.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}}function et(e,t){return new tt({values:e,typeName:yt.ZodEnum,...ae(t)})}Xe.create=(e,t)=>new Xe({value:e,typeName:yt.ZodLiteral,...ae(t)});class tt extends re{constructor(){super(...arguments),X.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return H(t,{expected:N.joinValues(n),received:t.parsedType,code:D.invalid_type}),U}if(Q(this,X,"f")||K(this,X,new Set(this._def.values),"f"),!Q(this,X,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return H(t,{received:t.data,code:D.invalid_enum_value,options:n}),U}return W(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tt.create(e,{...this._def,...t})}exclude(e,t=this._def){return tt.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}X=new WeakMap,tt.create=et;class nt extends re{constructor(){super(...arguments),ee.set(this,void 0)}_parse(e){const t=N.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==I.string&&n.parsedType!==I.number){const e=N.objectValues(t);return H(n,{expected:N.joinValues(e),received:n.parsedType,code:D.invalid_type}),U}if(Q(this,ee,"f")||K(this,ee,new Set(N.getValidEnumValues(this._def.values)),"f"),!Q(this,ee,"f").has(e.data)){const e=N.objectValues(t);return H(n,{received:n.data,code:D.invalid_enum_value,options:e}),U}return W(e.data)}get enum(){return this._def.values}}ee=new WeakMap,nt.create=(e,t)=>new nt({values:e,typeName:yt.ZodNativeEnum,...ae(t)});class at extends re{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.promise&&!1===t.common.async)return H(t,{code:D.invalid_type,expected:I.promise,received:t.parsedType}),U;const n=t.parsedType===I.promise?t.data:Promise.resolve(t.data);return W(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}at.create=(e,t)=>new at({type:e,typeName:yt.ZodPromise,...ae(t)});class rt extends re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{H(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return U;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?U:"dirty"===a.status||"dirty"===t.value?q(a.value):a}));{if("aborted"===t.value)return U;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?U:"dirty"===a.status||"dirty"===t.value?q(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?U:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?U:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Y(e))return e;const s=a.transform(e.value,r);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Y(e)?Promise.resolve(a.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}N.assertNever(a)}}rt.create=(e,t,n)=>new rt({schema:e,typeName:yt.ZodEffects,effect:t,...ae(n)}),rt.createWithPreprocess=(e,t,n)=>new rt({schema:t,effect:{type:"preprocess",transform:e},typeName:yt.ZodEffects,...ae(n)});class st extends re{_parse(e){return this._getType(e)===I.undefined?W(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}st.create=(e,t)=>new st({innerType:e,typeName:yt.ZodOptional,...ae(t)});class it extends re{_parse(e){return this._getType(e)===I.null?W(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}it.create=(e,t)=>new it({innerType:e,typeName:yt.ZodNullable,...ae(t)});class ot extends re{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===I.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ot.create=(e,t)=>new ot({innerType:e,typeName:yt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ae(t)});class lt extends re{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return G(a)?a.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new j(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new j(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lt.create=(e,t)=>new lt({innerType:e,typeName:yt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ae(t)});class ct extends re{_parse(e){if(this._getType(e)!==I.nan){const t=this._getOrReturnCtx(e);return H(t,{code:D.invalid_type,expected:I.nan,received:t.parsedType}),U}return{status:"valid",value:e.data}}}ct.create=e=>new ct({typeName:yt.ZodNaN,...ae(e)});const ut=Symbol("zod_brand");class dt extends re{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class mt extends re{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?U:"dirty"===e.status?(t.dirty(),q(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?U:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new mt({in:e,out:t,typeName:yt.ZodPipeline})}}class ht extends re{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Y(e)&&(e.value=Object.freeze(e.value)),e);return G(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function pt(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function gt(e,t={},n){return e?De.create().superRefine(((a,r)=>{var s,i;const o=e(a);if(o instanceof Promise)return o.then((e=>{var s,i;if(!e){const e=pt(t,a),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;r.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=pt(t,a),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;r.addIssue({code:"custom",...e,fatal:o})}})):De.create()}ht.create=(e,t)=>new ht({innerType:e,typeName:yt.ZodReadonly,...ae(t)});const ft={object:He.lazycreate};var yt;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(yt||(yt={}));const _t=Te.create,vt=Ce.create,wt=ct.create,Et=Ne.create,xt=Oe.create,bt=Ae.create,St=Le.create,kt=Ie.create,Tt=Pe.create,Mt=De.create,Ct=je.create,Nt=Ze.create,Ot=Fe.create,At=ze.create,Lt=He.create,It=He.strictCreate,Pt=$e.create,Dt=qe.create,jt=Be.create,Zt=Ve.create,Ft=Ye.create,zt=Ge.create,Rt=Qe.create,Ht=Ke.create,$t=Je.create,Ut=Xe.create,qt=tt.create,Wt=nt.create,Bt=at.create,Vt=rt.create,Yt=st.create,Gt=it.create,Qt=rt.createWithPreprocess,Kt=mt.create,Jt={string:e=>Te.create({...e,coerce:!0}),number:e=>Ce.create({...e,coerce:!0}),boolean:e=>Oe.create({...e,coerce:!0}),bigint:e=>Ne.create({...e,coerce:!0}),date:e=>Ae.create({...e,coerce:!0})},Xt=U;var en=Object.freeze({__proto__:null,defaultErrorMap:Z,setErrorMap:function(e){F=e},getErrorMap:z,makeIssue:R,EMPTY_PATH:[],addIssueToContext:H,ParseStatus:$,INVALID:U,DIRTY:q,OK:W,isAborted:B,isDirty:V,isValid:Y,isAsync:G,get util(){return N},get objectUtil(){return O},ZodParsedType:I,getParsedType:P,ZodType:re,datetimeRegex:be,ZodString:Te,ZodNumber:Ce,ZodBigInt:Ne,ZodBoolean:Oe,ZodDate:Ae,ZodSymbol:Le,ZodUndefined:Ie,ZodNull:Pe,ZodAny:De,ZodUnknown:je,ZodNever:Ze,ZodVoid:Fe,ZodArray:ze,ZodObject:He,ZodUnion:$e,ZodDiscriminatedUnion:qe,ZodIntersection:Be,ZodTuple:Ve,ZodRecord:Ye,ZodMap:Ge,ZodSet:Qe,ZodFunction:Ke,ZodLazy:Je,ZodLiteral:Xe,ZodEnum:tt,ZodNativeEnum:nt,ZodPromise:at,ZodEffects:rt,ZodTransformer:rt,ZodOptional:st,ZodNullable:it,ZodDefault:ot,ZodCatch:lt,ZodNaN:ct,BRAND:ut,ZodBranded:dt,ZodPipeline:mt,ZodReadonly:ht,custom:gt,Schema:re,ZodSchema:re,late:ft,get ZodFirstPartyTypeKind(){return yt},coerce:Jt,any:Mt,array:At,bigint:Et,boolean:xt,date:bt,discriminatedUnion:Dt,effect:Vt,enum:qt,function:Ht,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>gt((t=>t instanceof e),t),intersection:jt,lazy:$t,literal:Ut,map:zt,nan:wt,nativeEnum:Wt,never:Nt,null:Tt,nullable:Gt,number:vt,object:Lt,oboolean:()=>xt().optional(),onumber:()=>vt().optional(),optional:Yt,ostring:()=>_t().optional(),pipeline:Kt,preprocess:Qt,promise:Bt,record:Ft,set:Rt,strictObject:It,string:_t,symbol:St,transformer:Vt,tuple:Zt,undefined:kt,union:Pt,unknown:Ct,void:Ot,NEVER:Xt,ZodIssueCode:D,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:j});const tn=window.wp.apiFetch;var nn=n.n(tn);const an=window.wp.compose,rn=window.wp.url,sn=window.wp.i18n,on={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ln(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cn={date:ln({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ln({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ln({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},un={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function dn(e){return(t,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function mn(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const i=s[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(i))return t}(o):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(i))return t}(o);let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(i.length)}}}var hn;const pn={code:"en-US",formatDistance:(e,t,n)=>{let a;const r=on[e];return a="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:cn,formatRelative:(e,t,n,a)=>un[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:dn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:dn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:dn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:dn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:dn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(hn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(hn.matchPattern);if(!n)return null;const a=n[0],r=e.match(hn.parsePattern);if(!r)return null;let s=hn.valueCallback?hn.valueCallback(r[0]):r[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(a.length)}}),era:mn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let gn={};function fn(){return gn}Math.pow(10,8);const yn=6048e5,vn=Symbol.for("constructDateFrom");function wn(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&vn in e?e[vn](t):e instanceof Date?new e.constructor(t):new Date(t)}function En(e,t){return wn(t||e,e)}function xn(e){const t=En(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bn(e,t){const n=En(e,t?.in);return n.setHours(0,0,0,0),n}function Sn(e,t){const n=En(e,t?.in);return function(e,t,n){const[a,r]=function(e,...t){const n=wn.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t),s=bn(a),i=bn(r),o=+s-xn(s),l=+i-xn(i);return Math.round((o-l)/864e5)}(n,function(e,t){const n=En(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function kn(e,t){const n=fn(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=En(e,t?.in),s=r.getDay(),i=(s<a?7:0)+s-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Tn(e,t){return kn(e,{...t,weekStartsOn:1})}function Mn(e,t){const n=En(e,t?.in),a=n.getFullYear(),r=wn(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const s=Tn(r),i=wn(n,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const o=Tn(i);return n.getTime()>=s.getTime()?a+1:n.getTime()>=o.getTime()?a:a-1}function Cn(e,t){const n=En(e,t?.in),a=+Tn(n)-+function(e,t){const n=Mn(e,t),a=wn(t?.in||e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Tn(a)}(n);return Math.round(a/yn)+1}function Nn(e,t){const n=En(e,t?.in),a=n.getFullYear(),r=fn(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=wn(t?.in||e,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const o=kn(i,t),l=wn(t?.in||e,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);const c=kn(l,t);return+n>=+o?a+1:+n>=+c?a:a-1}function On(e,t){const n=En(e,t?.in),a=+kn(n,t)-+function(e,t){const n=fn(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Nn(e,t),s=wn(t?.in||e,0);return s.setFullYear(r,0,a),s.setHours(0,0,0,0),kn(s,t)}(n,t);return Math.round(a/yn)+1}function An(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Ln={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return An("yy"===t?a%100:a,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):An(n+1,2)},d:(e,t)=>An(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>An(e.getHours()%12||12,t.length),H:(e,t)=>An(e.getHours(),t.length),m:(e,t)=>An(e.getMinutes(),t.length),s:(e,t)=>An(e.getSeconds(),t.length),S(e,t){const n=t.length,a=e.getMilliseconds();return An(Math.trunc(a*Math.pow(10,n-3)),t.length)}},In={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return n.ordinalNumber(a,{unit:"year"})}return Ln.y(e,t)},Y:function(e,t,n,a){const r=Nn(e,a),s=r>0?r:1-r;return"YY"===t?An(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):An(s,t.length)},R:function(e,t){return An(Mn(e),t.length)},u:function(e,t){return An(e.getFullYear(),t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return An(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return An(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Ln.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return An(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=On(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):An(r,t.length)},I:function(e,t,n){const a=Cn(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):An(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Ln.d(e,t)},D:function(e,t,n){const a=Sn(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):An(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return An(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return An(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return An(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Ln.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ln.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):An(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):An(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ln.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ln.s(e,t)},S:function(e,t){return Ln.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Dn(a);case"XXXX":case"XX":return jn(a);default:return jn(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Dn(a);case"xxxx":case"xx":return jn(a);default:return jn(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pn(a,":");default:return"GMT"+jn(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pn(a,":");default:return"GMT"+jn(a,":")}},t:function(e,t,n){return An(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return An(+e,t.length)}};function Pn(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),s=a%60;return 0===s?n+String(r):n+String(r)+t+An(s,2)}function Dn(e,t){return e%60==0?(e>0?"-":"+")+An(Math.abs(e)/60,2):jn(e,t)}function jn(e,t=""){const n=e>0?"-":"+",a=Math.abs(e);return n+An(Math.trunc(a/60),2)+t+An(a%60,2)}const Zn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Fn=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},zn={p:Fn,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return Zn(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Zn(a,t)).replace("{{time}}",Fn(r,t))}},Rn=/^D+$/,Hn=/^Y+$/,$n=["D","DD","YY","YYYY"];function Un(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+En(e)));var t}const qn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bn=/^'([^]*?)'?$/,Vn=/''/g,Yn=/[a-zA-Z]/;function Gn(e,t,n){const a=fn(),r=n?.locale??a.locale??pn,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=En(e,n?.in);if(!Un(o))throw new RangeError("Invalid time value");let l=t.match(Wn).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,zn[t])(e,r.formatLong):e})).join("").match(qn).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Qn(e)};if(In[t])return{isToken:!0,value:e};if(t.match(Yn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return l.map((a=>{if(!a.isToken)return a.value;const s=a.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return Hn.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return Rn.test(e)}(s))&&function(e,t,n){const a=function(e,t,n){const a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(a),$n.includes(e))throw new RangeError(a)}(s,t,String(e)),(0,In[s[0]])(o,s,r.localize,c)})).join("")}function Qn(e){const t=e.match(Bn);return t?t[1].replace(Vn,"'"):e}const Kn=[{label:(0,sn.__)("Custom date range","simple-history"),value:"customRange"},{label:(0,sn.__)("Last day","simple-history"),value:"lastdays:1"},{label:(0,sn.__)("Last 7 days","simple-history"),value:"lastdays:7"},{label:(0,sn.__)("Last 14 days","simple-history"),value:"lastdays:14"},{label:(0,sn.__)("Last 30 days","simple-history"),value:"lastdays:30"},{label:(0,sn.__)("Last 60 days","simple-history"),value:"lastdays:60"}],Jn=[{label:(0,sn.__)("Loading","simple-history"),value:""}],Xn=[{label:(0,sn._x)("Debug","Log level in gui","simple-history"),value:"debug"},{label:(0,sn._x)("Info","Log level in gui","simple-history"),value:"info"},{label:(0,sn._x)("Notice","Log level in gui","simple-history"),value:"notice"},{label:(0,sn._x)("Warning","Log level in gui","simple-history"),value:"warning"},{label:(0,sn._x)("Error","Log level in gui","simple-history"),value:"error"},{label:(0,sn._x)("Critical","Log level in gui","simple-history"),value:"critical"},{label:(0,sn._x)("Alert","Log level in gui","simple-history"),value:"alert"},{label:(0,sn._x)("Emergency","Log level in gui","simple-history"),value:"emergency"}],ea="yyyy-MM-dd'T'HH:mm:ss",ta=" - ",na=Gn(bn(new Date),ea),aa=Gn(function(e,t){const n=En(e,t?.in);return n.setHours(23,59,59,999),n}(new Date),ea);function ra({event:e}){window.location.hash=`#simple-history/event/${e.id}`}function sa(e,t){return Math.floor(Math.random()*(t-e+1)+e)}const ia=window.wp.primitives;var oa=n(848);const la=(0,oa.jsxs)(ia.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,oa.jsx)(ia.Path,{d:"M7.5 12C7.5 11.1716 6.82843 10.5 6 10.5C5.17157 10.5 4.5 11.1716 4.5 12C4.5 12.8284 5.17157 13.5 6 13.5C6.82843 13.5 7.5 12.8284 7.5 12Z"}),(0,oa.jsx)(ia.Path,{d:"M13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z"}),(0,oa.jsx)(ia.Path,{d:"M19.5 12C19.5 11.1716 18.8284 10.5 18 10.5C17.1716 10.5 16.5 11.1716 16.5 12C16.5 12.8284 17.1716 13.5 18 13.5C18.8284 13.5 19.5 12.8284 19.5 12Z"})]}),ca=window.wp.hooks,ua=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})}),da=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})}),ma=(0,oa.jsx)(ia.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,oa.jsx)(ia.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8h1.5c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1z"})}),ha=(0,oa.jsx)(ia.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,oa.jsx)(ia.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})}),pa=function(e){const{variant:t,char:n=null}=e;let s,i;switch(t){case"unlocked":s=ua;break;case"unlocked2":s=da;break;case"unlocked3":s=ma;break;case"locked":s=ha;break;case"verified":i="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iNDgiPjxwYXRoIGQ9Im0zNDYtNjAtNzYtMTMwLTE1MS0zMSAxNy0xNDctOTYtMTEyIDk2LTExMS0xNy0xNDcgMTUxLTMxIDc2LTEzMSAxMzQgNjIgMTM0LTYyIDc3IDEzMSAxNTAgMzEtMTcgMTQ3IDk2IDExMS05NiAxMTIgMTcgMTQ3LTE1MCAzMS03NyAxMzAtMTM0LTYyLTEzNCA2MlptMjctNzkgMTA3LTQ1IDExMCA0NSA2Ny0xMDAgMTE3LTMwLTEyLTExOSA4MS05Mi04MS05NCAxMi0xMTktMTE3LTI4LTY5LTEwMC0xMDggNDUtMTEwLTQ1LTY3IDEwMC0xMTcgMjggMTIgMTE5LTgxIDk0IDgxIDkyLTEyIDEyMSAxMTcgMjggNzAgMTAwWm0xMDctMzQxWm0tNDMgMTMzIDIyNy0yMjUtNDUtNDEtMTgyIDE4MC05NS05OS00NiA0NSAxNDEgMTQwWiIvPjwvc3ZnPg==";break;default:s=null}return(0,a.createElement)("span",{className:"sh-PremiumFeatureBadge"},(0,sn.__)("Premium","simple-history"),s?(0,a.createElement)(r.Icon,{icon:s,size:20}):null,i?(0,a.createElement)("img",{src:i,alt:"",style:{width:"20px",padding:"0 0 0 .5em"}}):null,n?(0,a.createElement)("span",{style:{padding:"0 0 0 .5em"}},n):null)},ga=window.wp.data,fa=window.wp.coreData,ya=e=>(0,ga.useSelect)((t=>{const n=t(fa.store).getCurrentUser()?.id;if(!n)return!1;const a=t(fa.store).getEntityRecord("root","user",n);return!(!a||!a.capabilities||!a.capabilities[e])}),[e]),_a=(0,a.createElement)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70ZM320-159l160-41 160 41v-124q-35 20-75.5 31.5T480-240q-44 0-84.5-11.5T320-283v124Zm160-62Z"})),va=e=>{const{premiumFeatureModalTitle:t,premiumFeatureDescription:n,handleModalClose:s}=e,i={backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNHB4IiBmaWxsPSIjM2Y5MzQ5Ij48cGF0aCBkPSJtNDI0LTI5NiAyODItMjgyLTU2LTU2LTIyNiAyMjYtMTE0LTExNC01NiA1NiAxNzAgMTcwWm01NiAyMTZxLTgzIDAtMTU2LTMxLjVUMTk3LTE5N3EtNTQtNTQtODUuNS0xMjdUODAtNDgwcTAtODMgMzEuNS0xNTZUMTk3LTc2M3E1NC01NCAxMjctODUuNVQ0ODAtODgwcTgzIDAgMTU2IDMxLjVUNzYzLTc2M3E1NCA1NCA4NS41IDEyN1Q4ODAtNDgwcTAgODMtMzEuNSAxNTZUNzYzLTE5N3EtNTQgNTQtMTI3IDg1LjVUNDgwLTgwWm0wLTgwcTEzNCAwIDIyNy05M3Q5My0yMjdxMC0xMzQtOTMtMjI3dC0yMjctOTNxLTEzNCAwLTIyNyA5M3QtOTMgMjI3cTAgMTM0IDkzIDIyN3QyMjcgOTNabTAtMzIwWiIvPjwvc3ZnPg==)",backgroundSize:"1.5rem",lineHeight:"1.5rem",backgroundRepeat:"no-repeat",backgroundPosition:"center left",paddingLeft:"30px"};return(0,a.createElement)(r.Modal,{icon:(0,a.createElement)(r.Icon,{icon:_a}),title:t,onRequestClose:s},n,(0,a.createElement)(r.__experimentalDivider,{margin:5,style:{color:"var(--sh-color-gray)"}}),(0,a.createElement)("p",{style:{fontWeight:"600",fontSize:"1rem"}},(0,sn.__)("Simple History Premium also includes:","simple-history")),(0,a.createElement)("ul",{style:{listStyle:"disc",listStyleType:"none"}},(0,a.createElement)("li",{style:i},(0,sn.__)("More details on Stats & Summaries page","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Add events manually using a GUI","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Stealth Mode GUI","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Export as CSV and JSON","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Option to set number of days to keep the log","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Limit number of failed login attempts that are logged","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Control how to store IP Addresses (anonymized or not)","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Show a map of where a failed login attempt happened","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Control what messages to log","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Remove premium upgrade banners","simple-history")),(0,a.createElement)("li",{style:i},(0,sn.__)("Remove review and donate banners","simple-history"))),(0,a.createElement)(r.__experimentalSpacer,{margin:10}),(0,a.createElement)(r.__experimentalHStack,{spacing:3},(0,a.createElement)(r.Button,{variant:"primary",onClick:()=>{window.open("https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=premium-feature-modal"),s()},style:{backgroundColor:"var(--sh-color-green)"}},(0,sn.__)("Upgrade to premium","simple-history")),(0,a.createElement)(r.Button,{variant:"tertiary",onClick:s},(0,sn.__)("Maybe later","simple-history"))))},wa=(0,o.createContext)(null),Ea=({children:e})=>{const[t,n]=(0,o.useState)(!1),[r,s]=(0,o.useState)({premiumFeatureModalTitle:"",premiumFeatureDescription:""});return(0,a.createElement)(wa.Provider,{value:{showModal:(e,t)=>{s({premiumFeatureModalTitle:e,premiumFeatureDescription:t}),n(!0)}}},e,t&&(0,a.createElement)(va,{...r,handleModalClose:()=>{n(!1)}}))},xa=()=>{const e=(0,o.useContext)(wa);if(!e)throw new Error("usePremiumFeaturesModal must be used within a PremiumFeaturesModalProvider");return e};function ba(e){const{onCloseDropdownMenu:t}=e,{showModal:n}=xa(),s=ya("manage_options");if(!1===(0,ca.applyFilters)("SimpleHistory.showPremiumAddonsMenuGroup",!0))return null;const i=s?(0,a.createElement)(r.MenuItem,{onClick:()=>{t(),n((0,sn.__)("Create log entry","simple-history"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"1.1rem",padding:"1rem 2rem"}},(0,sn.__)("Create log entry manually is a premium feature.","simple-history")),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},(0,sn.__)("This feature allows you to manually add custom events to the activity log, using a simple GUI.","simple-history")),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},(0,sn.__)("Only administrators can add events, but all users who can view the log can see the added entries.","simple-history"))))},suffix:(0,a.createElement)(pa,null),info:(0,sn.__)("Manually add custom events to the activity log","simple-history")},(0,sn.__)("Create log entry","simple-history")):null;return(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(r.MenuItem,{onClick:()=>{t(),n("Export results",(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"var(--sh-font-size-large)",padding:"1rem 2rem"}},(0,a.createElement)("strong",null,"Export results")," is a premium feature."),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},"The export function supports CSV and JSON and gives you a downloaded file of the current search result.")))},suffix:(0,a.createElement)(pa,null),info:(0,sn.__)("CSV and JSON supported","simple-history")},(0,sn.__)("Export results","simple-history")),i)}function Sa(e){const{eventsQueryParams:t,eventsTotal:n}=e;return(0,a.createElement)(r.DropdownMenu,{text:(0,sn.__)("Event options","simple-history"),label:(0,sn.__)("Actions (Export & other tools)","simple-history"),icon:la,toggleProps:{iconPosition:"right",variant:"tertiary"}},(({onClose:e})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(ba,{onCloseDropdownMenu:e}),(0,a.createElement)(r.Slot,{name:"SimpleHistorySlotEventsControlBarMenu",fillProps:{onClose:e,eventsQueryParams:t,eventsTotal:n}}))))}function ka(e){const{eventsIsLoading:t,eventsTotal:n,eventsQueryParams:s}=e,i=t?(0,a.createElement)(r.__experimentalText,null,(0,a.createElement)(r.Spinner,null),(0,sn._x)("Loading","Message visible while waiting for log to load from server the first time","simple-history")):null,o=n?(0,a.createElement)(r.__experimentalText,null,(0,sn.sprintf)(/* translators: %s: number of events */ /* translators: %s: number of events */
(0,sn._n)("%s event","%s events",n,"simple-history"),n)):null;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{background:"white",padding:"6px 12px"}},(0,a.createElement)(r.Flex,{gap:2},(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.__experimentalHStack,{spacing:2},o,i)),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(Sa,{eventsQueryParams:s,eventsTotal:n})))))}function Ta(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Ta(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Ma(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Ta(e))&&(a&&(a+=" "),a+=t);return a}const Ca=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})});function Na(e){const t=e.initiator_data||{},n=t.user_display_name||t.user_login||"",a=t.user_email?`(${t.user_email})`:"";let r="";if(e.date_local){const t=new Date(e.date_local.replace(" ","T")),n=t.getFullYear(),a=t.toLocaleString("default",{month:"long"}),s=t.getDate(),i=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});r=`${n}-${String(t.getMonth()+1).padStart(2,"0")}-${String(s).padStart(2,"0")} (${a.toLowerCase()} ${s} ${n}) at ${i}`}const s=e.via?` Via ${e.via}`:"";return`${[n,a].filter(Boolean).join(" ")+(r?`  ${r}`:"")+(s?` ${s}`:"")}\n${e.message||""}`}function Oa({event:e}){const t=(0,sn.__)("Copy event message","simple-history"),n=(0,sn.__)("Event message copied","simple-history"),[s,i]=(0,o.useState)(t),l=Na(e),c=(0,an.useCopyToClipboard)(l,(()=>{i(n),setTimeout((()=>{i(t)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:Ca,ref:c},s)}function Aa({event:e}){const t=(0,sn.__)("Copy detailed event message","simple-history"),n=(0,sn.__)("Event message copied","simple-history"),[s,i]=(0,o.useState)(t);let l="# Event Message\n\n";l+=Na(e)+"\n\n";const c=function(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)return"";let t="\n\n| Key | Value |\n| --- | ----- |";for(const[n,a]of Object.entries(e))t+=`\n| ${n} | ${a} |`;return t}(e);c&&(l+="## Event Details Data\n",l+=c);const u=(0,an.useCopyToClipboard)(l,(()=>{i(n),setTimeout((()=>{i(t)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:Ca,ref:u},s)}const La=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function Ia({event:e}){const t=e.permalink,n=(0,sn.__)("Copy link to event details","simple-history"),s=(0,sn.__)("Link copied to clipboard","simple-history"),[i,l]=(0,o.useState)(n),c=(0,an.useCopyToClipboard)(t,(()=>{l(s),setTimeout((()=>{l(n)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:La,ref:c},i)}function Pa({event:e,onClose:t}){return(0,a.createElement)(r.MenuItem,{icon:Ca,onClick:()=>{ra({event:e}),t()}},(0,sn.__)("View event details","simple-history"))}const Da=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})});function ja({event:e,eventsAdminPageURL:t}){const n="wp_user"===e?.initiator&&e?.initiator_data?.user_id&&e?.initiator_data?.user_email,s=e?.logger&&e?.message_key;return(0,a.createElement)(a.Fragment,null,n?(0,a.createElement)(r.MenuItem,{icon:Da,onClick:()=>{const n=JSON.stringify([{id:e.initiator_data.user_id,value:e.initiator_data.user_email}]),a=(0,rn.addQueryArgs)(t,{users:n});window.location.href=a}},(0,sn.__)("Find events by the same user","simple-history")):null,s?(0,a.createElement)(r.MenuItem,{icon:Da,onClick:()=>{const n=JSON.stringify([{value:e.message_key,search_options:[`${e.logger}:${e.message_key}`]}]),a=(0,rn.addQueryArgs)(t,{messages:n});window.location.href=a}},(0,sn.__)("Filter event by this event type","simple-history")):null)}const Za=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})});function Fa({event:e,onClose:t,showPremiumModal:n,hasPremiumAddOn:s}){return s?null:(console.log("stick event component",e),e.sticky?null:(0,a.createElement)(r.MenuItem,{onClick:()=>{n((0,sn.__)("Stick events","simple-history"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"var(--sh-font-size-large)",padding:"1rem 2rem"}},(0,a.createElement)("strong",null,"Sticking events")," using the GUI is a premium feature."),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},"This feature lets you stick any event to the top of the list."))),t()},icon:Za},(0,sn.__)("Stick event to top","simple-history")))}function za({event:e,onClose:t}){const[n,s]=(0,o.useState)(!1),i=ya("manage_options");return e.sticky&&i?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.MenuItem,{onClick:()=>{s(!0)},icon:Za},(0,sn.__)("Unstick event","simple-history")),n?(0,a.createElement)(r.__experimentalConfirmDialog,{cancelButtonText:(0,sn.__)("Nope","simple-history"),confirmButtonText:(0,sn.__)("Yes, unstick it","simple-history"),onConfirm:async()=>{try{await nn()({path:`/simple-history/v1/events/${e.id}/unstick`,method:"POST"})}catch(e){}finally{t()}},onCancel:()=>s(!1)},(0,sn.sprintf)(/* translators: %s: The message of the event. */ /* translators: %s: The message of the event. */
(0,sn.__)('Unstick event "%s"?',"simple-history"),e.message)):null):null}function Ra({event:e,eventVariant:t,eventsAdminPageURL:n,hasPremiumAddOn:s}){const{showModal:i}=xa();return"modal"===t?null:(0,a.createElement)("div",{className:"SimpleHistoryLogitem__actions"},(0,a.createElement)(r.DropdownMenu,{label:(0,sn.__)("Actions","simple-history"),icon:la,popoverProps:{placement:"left-start",inline:!0}},(({onClose:o})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Pa,{event:e,eventVariant:t,onClose:o}),(0,a.createElement)(Ia,{event:e})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Oa,{event:e}),(0,a.createElement)(Aa,{event:e})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(ja,{event:e,eventsAdminPageURL:n})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(za,{event:e,onClose:o}),(0,a.createElement)(Fa,{event:e,onClose:o,showPremiumModal:i,hasPremiumAddOn:s})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(r.Slot,{name:"SimpleHistorySlotEventActionsMenu",fillProps:{onClose:o,event:e,eventVariant:t}}))))))}function Ha(e){const{event:t}=e,{details_html:n}=t;return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__details",dangerouslySetInnerHTML:{__html:n}})}const $a=window.wp.date;function Ua(e){const{children:t,className:n}=e,r=Ma("SimpleHistoryLogitem__inlineDivided",n);return(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)("span",{className:r},t))}function qa(e){const{event:t,eventVariant:n}=e,s=(0,$a.getSettings)(),i=s.formats.datetimeAbbreviated,l=s.formats.time,c=s.timezone.string,u=Intl.DateTimeFormat().resolvedOptions().timeZone,d=t.date_gmt+"+0000";let m;m=(0,$a.date)("Y-m-d",d)===(0,$a.date)("Y-m-d",void 0,"GMT")?(0,sn.sprintf)(
// translators: %s is the time, like 8:36 pm.
// translators: %s is the time, like 8:36 pm.
(0,sn.__)("Today %s","simple-history"),(0,$a.dateI18n)(l,d,u)):(0,$a.dateI18n)(i,d,u);const[h,p]=(0,o.useState)((()=>(0,$a.humanTimeDiff)(t.date_local)));(0,o.useEffect)((()=>{const e=setInterval((()=>{p((0,$a.humanTimeDiff)(t.date_local))}),1e3);return()=>{clearInterval(e)}}),[t.date_local]);const g=(0,a.createElement)(a.Fragment,null,(0,a.createElement)("table",null,(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,sn.__)("Date","simple-history")),(0,a.createElement)("th",null,(0,sn.__)("Description","simple-history")))),(0,a.createElement)("tbody",null,(0,a.createElement)("tr",null,(0,a.createElement)("td",null,t.date_gmt),(0,a.createElement)("td",null,(0,sn.__)("GMT time","simple-history"))),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,t.date_local),(0,a.createElement)("td",null,(0,sn.sprintf)(/* translators: 1: timezone string */ /* translators: 1: timezone string */
(0,sn.__)("Website timezone (%1$s)","simple-history"),c))),c!==u&&(0,a.createElement)("tr",null,(0,a.createElement)("td",null,(0,$a.dateI18n)("Y-m-d H:i:s",d,u)),(0,a.createElement)("td",null,(0,sn.sprintf)(/* translators: 1: browser timezone */ /* translators: 1: browser timezone */
(0,sn.__)("Browser local time (%1$s)","simple-history"),u)))))),f=(0,a.createElement)("time",{dateTime:t.date_gmt,className:"SimpleHistoryLogitem__when__liveRelative"},m," (",h,")");let y;return y="compact"===n?(0,a.createElement)("div",null,h):(0,a.createElement)(r.Tooltip,{text:g,delay:500},"modal"===n?(0,a.createElement)(r.__experimentalText,null,f):(0,a.createElement)(r.Button,{variant:"link",onClick:()=>{ra({event:t})}},f)),(0,a.createElement)(Ua,{className:"SimpleHistoryLogitem__permalink SimpleHistoryLogitem__when"},y)}function Wa(e){const{event:t,eventVariant:n}=e,{initiator_data:s}=t;switch(t.initiator){case"wp_user":const e=s.user_display_name||s.user_login;let i;return i="compact"===n||"modal"===n?(0,a.createElement)("strong",null,e):(0,a.createElement)(r.Button,{href:s.user_profile_url,variant:"link"},(0,a.createElement)(a.Fragment,null,(0,a.createElement)("strong",null,e),"",(0,a.createElement)("span",null,"(",s.user_email,")"))),(0,a.createElement)(Ua,null,i);case"web_user":return(0,a.createElement)(Ua,null,(0,a.createElement)("strong",null,(0,sn.__)("Anonymous web user","simple-history")));case"wp_cli":return(0,a.createElement)(Ua,null,(0,a.createElement)("strong",null,(0,sn.__)("WP-CLI","simple-history")));case"wp":return(0,a.createElement)(Ua,null,(0,a.createElement)("strong",null,(0,sn.__)("WordPress","simple-history")));case"other":return(0,a.createElement)(Ua,null,(0,a.createElement)("strong",null,(0,sn.__)("Other","simple-history")));default:return(0,a.createElement)(Ua,null,"Unknown initiator: ",(0,a.createElement)("code",null,t.initiator))}}const Ba=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),Va=[{key:"hostname",label:(0,sn.__)("Hostname:","simple-history")},{key:"org",label:(0,sn.__)("Org:","simple-history")},{key:"city",label:(0,sn.__)("City:","simple-history")},{key:"region",label:(0,sn.__)("Region:","simple-history")},{key:"country",label:(0,sn.__)("Country:","simple-history")},{key:"loc",label:(0,sn.__)("Location:","simple-history")}];function Ya(e){const{header:t,ipAddress:n,mapsApiKey:s,hasPremiumAddOn:i}=e,[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[m,h]=(0,o.useState)(),p=`https://ipinfo.io/${n.replace(/\.x$/,".0")}`;(0,o.useEffect)((()=>{u&&async function(){const e=await fetch(p,{method:"GET",headers:{Accept:"application/json"}}),t=await e.json();h(t),d(!1)}()}),[u,n,p]);const g=(0,o.createInterpolateElement)((0,sn.__)("That IP address does not seem like a public one. It is probably a <a>bogon ip address</a>.","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://ipinfo.io/bogon",target:"_blank",rel:"noopener noreferrer"})}),f=s&&!m?.bogon&&m?.loc?(0,a.createElement)("tr",null,(0,a.createElement)("td",{colSpan:2},(0,a.createElement)("a",{href:`https://www.google.com/maps/place/${m.loc}/@${m.loc},6z`,target:"_blank",rel:"noopener noreferrer"},(0,a.createElement)("img",{src:`https://maps.googleapis.com/maps/api/staticmap?center=${m.loc}&zoom=7&size=350x100&scale=2&sensor=false&key=${s}`,width:"350",height:"100",alt:"Google Map"})))):null,y=i?null:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{display:"grid",placeItems:"center",width:"100%",height:100,backgroundImage:'url("/wp-content/plugins/simple-history/assets/images/map-img-blur.jpg")',backgroundSize:"cover",padding:"1rem"}},(0,a.createElement)(r.__experimentalText,null,(0,o.createInterpolateElement)((0,sn.__)("See the location of the IP address on a map with <a>Simple History Premium</a> add-on.","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=ip-maps-feature#GoogleMaps",target:"_blank",rel:"noopener noreferrer"})})))),_=m?(0,a.createElement)(a.Fragment,null,y,(0,a.createElement)("table",{className:"SimpleHistoryIpInfoDropin__ipInfoTable"},(0,a.createElement)("tbody",null,f,(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,sn.__)("IP address:","simple-history")),(0,a.createElement)("td",null,n)),(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,sn.__)("Header:","simple-history")),(0,a.createElement)("td",null,(0,a.createElement)("code",null,t))),m.bogon?(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,sn.__)("Error:","simple-history")),(0,a.createElement)("td",null,g)):null,Va.map((e=>{const{key:t,label:n}=e,r=m[t];return r?(0,a.createElement)("tr",{key:t},(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},n),(0,a.createElement)("td",null,r)):null})))),(0,a.createElement)(r.__experimentalText,{align:"right",isBlock:!0,variant:"muted",style:{marginTop:10}},(0,o.createInterpolateElement)((0,sn.__)("IP info provided by <a>ipinfo.io</a>","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://ipinfo.io/",target:"_blank",rel:"noopener noreferrer"})}))):null;return(0,a.createElement)(r.Button,{title:t,onClick:e=>{"BUTTON"!==e.target.nodeName||(l?c(!1):(c(!0),d(!0)))},variant:"link"},n,l?(0,a.createElement)(r.Popover,{noArrow:!1,offset:10,placement:"top",animate:!0,shift:!0},(0,a.createElement)("div",{style:{minWidth:350,minHeight:100,padding:10,overflow:"hidden"}},(0,a.createElement)(r.Flex,{align:"start"},(0,a.createElement)("div",null,u?(0,a.createElement)("p",null,(0,sn.__)("Getting IP info","simple-history")):(0,a.createElement)(a.Fragment,null,_)),(0,a.createElement)(r.Button,{icon:Ba,onClick:()=>c(!1)})))):null)}function Ga(e){const{event:t,mapsApiKey:n,hasPremiumAddOn:r}=e,{ip_addresses:s}=t;if(!s)return null;const i=Object.keys(s).length;if(0===i)return null;const o=(0,sn._n)("IP address:","IP addresses:",i,"simple-history"),l=[];let c=0;for(const[e,t]of Object.entries(s))l.push((0,a.createElement)(a.Fragment,null,(0,a.createElement)(Ya,{key:e,header:e,ipAddress:t,mapsApiKey:n,hasPremiumAddOn:r})," ",c<i-1?", ":"")),c++;return(0,a.createElement)(Ua,null,o," ",l)}function Qa(e){const{event:t}=e,{via:n}=t;return n?(0,a.createElement)(Ua,null,n):null}function Ka(e){const{event:t,eventVariant:n,hasExtendedSettingsAddOn:r,hasPremiumAddOn:s}=e,{mapsApiKey:i}=e;return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__header"},(0,a.createElement)(Wa,{event:t,eventVariant:n}),(0,a.createElement)(qa,{event:t,eventVariant:n}),(0,a.createElement)(Ga,{event:t,mapsApiKey:i,hasExtendedSettingsAddOn:r,hasPremiumAddOn:s}),(0,a.createElement)(Qa,{event:t}))}function Ja(e){const{event:t}=e,{initiator_data:n}=t;return(0,a.createElement)("img",{className:"SimpleHistoryLogitem__senderImage",src:n.user_avatar_url,alt:""})}function Xa(e){const{event:t}=e,{initiator_data:n}=t;return(0,a.createElement)("img",{className:"SimpleHistoryLogitem__senderImage",src:n.user_avatar_url,alt:""})}function er(){return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__senderImage"})}function tr(e){const{event:t}=e,{initiator:n}=t;switch(n){case"wp_user":return(0,a.createElement)(Ja,{event:t});case"web_user":return(0,a.createElement)(Xa,{event:t});case"wp_cli":case"wp":case"other":return(0,a.createElement)(er,{event:t});default:return(0,a.createElement)("p",null,'Add image for initiator "',n,'"')}}function nr(e){const{occasions:t,isLoadingOccasions:n,subsequent_occasions_count:r,occasionsCountMaxReturn:s}=e,i=Ma({SimpleHistoryLogitems:!0,SimpleHistoryLogitem__occasionsItems:!0,haveOccasionsAdded:!1===n});return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasionsItemsWrap",style:{marginTop:"1rem",marginLeft:"-4.5rem",marginRight:"-1.5rem"}},(0,a.createElement)("ul",{className:i},t.map((e=>(0,a.createElement)(ur,{key:e.id,event:e}))),r>s?(0,a.createElement)("li",{className:"SimpleHistoryLogitem SimpleHistoryLogitem--occasion SimpleHistoryLogitem--occasion-tooMany"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol"}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text"},(0,sn.__)("Sorry, but there are too many similar events to show.","simple-history")))):null))}function ar(e){const{event:t,hasExtendedSettingsAddOn:n,hasPremiumAddOn:s,eventsSettingsPageURL:i}=e;if("SimpleUserLogger"!==t.logger)return null;if("user_login_failed"!==t.message_key&&"user_unknown_login_failed"!==t.message_key)return null;const o=n||s?(0,a.createElement)("a",{href:`${i}&selected-sub-tab=failed-login-attempts`},(0,sn.__)("Configure failed login attempts","simple-history")):(0,a.createElement)(r.ExternalLink,{href:"https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=login-attempts-limit#limit-number-of-failed-login-attempts"},(0,sn.__)("Limit logged login attempts (Premium)","simple-history"));return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasionsAddOns"},(0,a.createElement)("p",{className:"SimpleHistoryLogitem__occasionsAddOnsText"},o))}function rr(e){const{event:t,eventVariant:n,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l}=e,{subsequent_occasions_count:c}=t,[u,d]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),[p,g]=(0,o.useState)([]);if(1===c)return null;if("modal"===n)return null;const f=(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasions"},(0,a.createElement)(r.Button,{variant:"link",onClick:e=>{(async()=>{d(!0);const e={type:"occasions",logRowID:t.id,occasionsID:t.occasions_id,occasionsCount:c-1,occasionsCountMaxReturn:15,per_page:5,_fields:["id","date_local","date_gmt","message","message_html","details_data","details_html","loglevel","occasions_id","subsequent_occasions_count","initiator","initiator_data","via"]},n=await nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/events",e),parse:!1}),a=await n.json();g(a),d(!1),h(!0)})(),e.preventDefault()}},(0,sn.sprintf)(/* translators: %s: number of similar events */ /* translators: %s: number of similar events */
(0,sn._n)("+%1$s similar event","+%1$s similar events",c,"simple-history"),c)),(0,a.createElement)(ar,{event:t,eventsSettingsPageURL:l,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i})));return(0,a.createElement)("div",null,m||u?null:f,u?(0,a.createElement)("span",null,(0,sn.__)("Loading","simple-history")):null,m?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",null,(0,sn.sprintf)(/* translators: %s: number of similar events */ /* translators: %s: number of similar events */
(0,sn.__)("Showing %1$s more","simple-history"),c-1)),(0,a.createElement)(nr,{isLoadingOccasions:u,isShowingOccasions:m,occasions:p,subsequent_occasions_count:c,occasionsCountMaxReturn:15})):null)}const sr=(0,oa.jsx)(ia.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,oa.jsx)(ia.Path,{d:"M10.97 10.159a3.382 3.382 0 0 0-2.857.955l1.724 1.723-2.836 2.913L7 17h1.25l2.913-2.837 1.723 1.723a3.38 3.38 0 0 0 .606-.825c.33-.63.446-1.343.35-2.032L17 10.695 13.305 7l-2.334 3.159Z"})});function ir({event:e}){const t=Ma("SimpleHistoryLogitem--logleveltag",`SimpleHistoryLogitem--logleveltag-${e.loglevel}`);return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text"},(0,a.createElement)(or,{event:e}),(0,a.createElement)("span",{dangerouslySetInnerHTML:{__html:e.message_html}})," ",(0,a.createElement)("span",{className:t},e.loglevel))}function or({event:e}){const t=Ma("SimpleHistoryLogitem--sticky");return e.sticky?(0,a.createElement)(r.Tooltip,{text:(0,sn.__)("Sticky","simple-history")},(0,a.createElement)("span",{className:t},(0,a.createElement)(r.VisuallyHidden,{as:"span"},(0,sn.__)("Sticky","simple-history")),(0,a.createElement)(r.Icon,{icon:sr}))):null}function lr({event:e}){let t="";if(!e)return"";if(e.sticky_appended)t=(0,sn.__)("Sticky","simple-history");else{t=(0,$a.dateI18n)((0,$a.__experimentalGetSettings)().formats.date,e.date_local);const n=new Date(e.date_local).toISOString().split("T")[0],a=(new Date).toISOString().split("T")[0],r=new Date((new Date).setDate((new Date).getDate()-1)).toISOString().split("T")[0];n===a?t=(0,sn.__)("Today","simple-history"):n===r&&(t=(0,sn.__)("Yesterday","simple-history"))}return t}function cr({event:e,eventVariant:t,prevEvent:n,loopIndex:r}){if("modal"===t)return null;const s=lr({event:e,loopIndex:r}),i=s!==lr({event:n,loopIndex:r-1}),o=Ma({SimpleHistoryEventSeparator:!0,"SimpleHistoryEventSeparator--hasLabel":i});return(0,a.createElement)("div",{className:o},i?(0,a.createElement)("span",{className:"SimpleHistoryEventSeparator__label"},s):null)}function ur(e){const{event:t,variant:n="normal",mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,isNewAfterFetchNewEvents:o,eventsSettingsPageURL:l,eventsAdminPageURL:c,prevEvent:u,nextEvent:d,loopIndex:m}=e,h=Ma("SimpleHistoryLogitem",`SimpleHistoryLogitem--variant-${n}`,`SimpleHistoryLogitem--loglevel-${t.loglevel}`,`SimpleHistoryLogitem--logger-${t.logger}`,`SimpleHistoryLogitem--initiator-${t.initiator}`,{"SimpleHistoryLogitem--is-sticky":t.sticky,"SimpleHistoryLogitem--newRowSinceReload":o});return(0,a.createElement)("li",{className:h},(0,a.createElement)(cr,{event:t,eventVariant:n,prevEvent:u,nextEvent:d,loopIndex:m}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol"},(0,a.createElement)(tr,{event:t})),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)(Ka,{event:t,eventVariant:n,mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i}),(0,a.createElement)(ir,{event:t,eventVariant:n}),(0,a.createElement)(Ha,{event:t,eventVariant:n}),(0,a.createElement)(rr,{event:t,eventVariant:n,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l}),(0,a.createElement)(Ra,{event:t,eventVariant:n,eventsAdminPageURL:c,hasPremiumAddOn:i})))}function dr(e){const{index:t}=e,n={backgroundColor:"var(--sh-color-gray-4)",width:sa(40,50)+"%",height:"1rem"},r={backgroundColor:"var(--sh-color-gray-4)",width:sa(55,75)+"%",height:"1.25rem"},s={backgroundColor:"var(--sh-color-gray-4)",width:sa(50,60)+"%",height:"3rem"};return(0,a.createElement)("li",{key:t,className:"SimpleHistoryLogitem SimpleHistoryLogitem--variant-normal SimpleHistoryLogitem--loglevel-debug SimpleHistoryLogitem--logger-WPHTTPRequestsLogger SimpleHistoryLogitem--initiator-wp_user"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol",style:{width:32,height:32,borderRadius:"50%",backgroundColor:"var(--sh-color-gray-4)"}}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__header",style:n}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text",style:r}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__details",style:s})))}function mr(e){var t;const{eventsIsLoading:n,events:r,pagerSize:s}=e;if(!n||r.length>0)return null;const i=null!==(t=s.page)&&void 0!==t?t:0;return(0,a.createElement)("div",null,(0,a.createElement)("ul",{className:"SimpleHistoryLogitems"},Array.from({length:i}).map(((e,t)=>(0,a.createElement)(dr,{key:t,index:t})))))}const hr=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),pr=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),gr=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"M250-250v-460h60v460h-60Zm430-3.85L453.85-480 680-706.15 722.15-664l-184 184 184 184L680-253.85Z"})),fr=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"M280-253.85 237.85-296l184-184-184-184L280-706.15 506.15-480 280-253.85ZM650-250v-460h60v460h-60Z"}));function yr(e){const{page:t,totalPages:n,setPage:s}=e;if(!t||!n)return null;const i=[{label:(0,sn.__)("","simple-history"),value:"custom"},...[...Array(n)].map(((e,t)=>({label:t+1,value:t+1})))];return(0,a.createElement)("div",null,(0,a.createElement)(r.__experimentalHStack,{spacing:4,justify:"center"},(0,a.createElement)(r.Button,{label:(0,sn.__)("First page","simple-history"),size:"compact",onClick:()=>s(1),disabled:1===t,accessibleWhenDisabled:!0,icon:gr}),(0,a.createElement)(r.Button,{label:(0,sn.__)("Previous page","simple-history"),size:"compact",onClick:()=>s(t-1),disabled:1===t,accessibleWhenDisabled:!0,icon:hr}),(0,a.createElement)(r.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2},(0,o.createInterpolateElement)((0,sn.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,sn._x)("Page <CurrentPageControl /> of %s","paging","simple-history"),n),{CurrentPageControl:(0,a.createElement)(r.SelectControl,{"aria-label":(0,sn.__)("Current page","simple-history"),value:t,options:i,onChange:e=>{let t;t="custom"===e?prompt("Enter page number",1):e,t=parseInt(t,10),isNaN(t)||t<1?t=1:t>n&&(t=n),s(t)},size:"compact",__nextHasNoMarginBottom:!0})})),(0,a.createElement)(r.Button,{label:(0,sn.__)("Next page","simple-history"),size:"compact",onClick:()=>s(t+1),disabled:t===n,accessibleWhenDisabled:!0,icon:pr}),(0,a.createElement)(r.Button,{label:(0,sn.__)("Last page","simple-history"),size:"compact",onClick:()=>s(n),disabled:t===n,accessibleWhenDisabled:!0,icon:fr})))}function _r(e){const{eventsLoadingHasErrors:t,eventsLoadingErrorDetails:n}=e;if(!t)return null;const s=(0,rn.addQueryArgs)("https://simple-history.com/support/load-events-error/",{utm_source:"wordpress_admin",utm_medium:"Simple_History",utm_campaign:"premium_upsell",utm_content:"fetch-events-error",error:JSON.stringify(n)});return(0,a.createElement)("div",{style:{margin:"1rem"}},(0,a.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,a.createElement)(r.__experimentalVStack,{spacing:2},(0,a.createElement)(r.__experimentalText,{as:"p"},(0,sn.__)("There was an error loading the events.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,sn.__)("This can often be resolved by refreshing your browser. If the problem persists, please try again later.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>window.location.reload()},(0,sn.__)("Reload page","simple-history"))),(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,sn.__)("View error details","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"pre",style:{padding:"1rem"}},JSON.stringify(n,null,2)),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,a.createElement)(r.ExternalLink,{href:s},"Search for error and solutions online.")),(0,a.createElement)(r.__experimentalText,{variant:"muted",as:"p"},"Error above will be sent to simple-history.com. Make sure it don't contain any personal or sensitive information.")))))}function vr(e){const{eventsIsLoading:t,events:n}=e;if(t)return null;if(n.length&&n.length>0)return null;const s=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#000000"},(0,a.createElement)("path",{d:"M280-80q-83 0-141.5-58.5T80-280q0-83 58.5-141.5T280-480q83 0 141.5 58.5T480-280q0 83-58.5 141.5T280-80Zm544-40L568-376q-12-13-25.5-26.5T516-428q38-24 61-64t23-88q0-75-52.5-127.5T420-760q-75 0-127.5 52.5T240-580q0 6 .5 11.5T242-557q-18 2-39.5 8T164-535q-2-11-3-22t-1-23q0-109 75.5-184.5T420-840q109 0 184.5 75.5T680-580q0 43-13.5 81.5T629-428l251 252-56 56Zm-615-61 71-71 70 71 29-28-71-71 71-71-28-28-71 71-71-71-28 28 71 71-71 71 28 28Z"})),i={fontSize:"1rem",fontWeight:"500",marginBlock:".25rem",color:"var(--sh-color-gray-2)"};return(0,a.createElement)("div",{style:{marginBlock:"2rem",display:"flex",flexDirection:"column",alignItems:"center"}},(0,a.createElement)(r.Icon,{icon:s,fill:"var(--sh-color-gray-2)",size:50,style:{marginBottom:"2rem"}}),(0,a.createElement)(r.__experimentalText,{as:"p",style:i},(0,sn.__)("Your search did not match any history events.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p",style:i},(0,sn.__)("Try different search options or clear the search.","simple-history")))}function wr(e){const{events:t,page:n,pagerSize:s,setPage:i,eventsIsLoading:o,eventsMeta:l,prevEventsMaxId:c,mapsApiKey:u,hasExtendedSettingsAddOn:d,hasPremiumAddOn:m,eventsSettingsPageURL:h,eventsAdminPageURL:p,eventsLoadingHasErrors:g,eventsLoadingErrorDetails:f}=e,y=l.totalPages;return(0,a.createElement)("div",{style:{backgroundColor:"white",minHeight:"300px",display:"flex",flexDirection:"column",paddingTop:"30px"}},(0,a.createElement)(mr,{eventsIsLoading:o,pagerSize:s,events:t}),(0,a.createElement)(vr,{eventsIsLoading:o,events:t}),(0,a.createElement)(_r,{eventsLoadingHasErrors:g,eventsLoadingErrorDetails:f}),(0,a.createElement)(Er,{eventsIsLoading:o,events:t,prevEventsMaxId:c,mapsApiKey:u,hasPremiumAddOn:m,hasExtendedSettingsAddOn:d,eventsSettingsPageURL:h,eventsAdminPageURL:p}),(0,a.createElement)(r.__experimentalSpacer,{margin:4}),(0,a.createElement)(yr,{page:n,totalPages:y,setPage:i}),(0,a.createElement)(r.__experimentalSpacer,{paddingBottom:4}))}function Er(e){const{events:t,prevEventsMaxId:n,mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsIsLoading:o,eventsSettingsPageURL:l,eventsAdminPageURL:c}=e;if(!t||0===t.length)return null;const u=Ma({SimpleHistoryLogitems:!0,"is-loading":o,"is-loaded":!o});return(0,a.createElement)("ul",{className:u},t.map(((e,o)=>(0,a.createElement)(ur,{key:`${e.id}-${o}`,event:e,loopIndex:o,prevEvent:t[o-1],nextEvent:t[o+1],mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l,eventsAdminPageURL:c,isNewAfterFetchNewEvents:e.id>n}))))}function xr(e){const{eventId:t,closeModal:n=null}=e,[s,i]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async()=>{c(!0);const e=await nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/events/"+t,{_fields:["id","logger","occasions_id","subsequent_occasions_count","initiator_data","loglevel","message","message_html","message_key","details_data","details_html","message_uninterpolated","date_local","date_gmt","message","context","ip_addresses","details_data","via","initiator"]}),parse:!1}),n=await e.json();i(n),c(!1)})()}),[t]),(0,a.createElement)(r.Modal,{title:(0,sn.__)("Event details","simple-history"),onRequestClose:n},(0,a.createElement)("div",{className:"SimpleHistory__modal"},l?(0,sn.__)("Loading detailed events data","simple-history"):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(ur,{event:s,variant:"modal"}),(0,a.createElement)("p",null,(0,a.createElement)(r.__experimentalText,null,(0,sn.__)("This is potentially useful information and meta data that a logger has saved.","simple-history"))),(0,a.createElement)("h2",null,(0,sn.__)("Event details","simple-history")),(0,a.createElement)("table",{className:"SimpleHistoryLogitem__moreDetailsContext"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,sn.__)("Key","simple-history")),(0,a.createElement)("th",null,(0,sn.__)("Value","simple-history")))),(0,a.createElement)("tbody",null,(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"id"),(0,a.createElement)("td",null,s.id)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"logger"),(0,a.createElement)("td",null,s.logger)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"level"),(0,a.createElement)("td",null,s.loglevel)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"date_local"),(0,a.createElement)("td",null,s.date_local)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"date_gmt"),(0,a.createElement)("td",null,s.date_gmt)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"message"),(0,a.createElement)("td",null,s.message)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"message_uninterpolated"),(0,a.createElement)("td",null,s.message_uninterpolated)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"initiator"),(0,a.createElement)("td",null,s.initiator)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"occasions_id"),(0,a.createElement)("td",null,s.occasions_id)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"subsequent_occasions_count"),(0,a.createElement)("td",null,s.subsequent_occasions_count)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"via"),(0,a.createElement)("td",null,s.via)))),(0,a.createElement)("h2",null,(0,sn.__)("Event context","simple-history")),(0,a.createElement)("table",{className:"SimpleHistoryLogitem__moreDetailsContext"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,sn.__)("Key","simple-history")),(0,a.createElement)("th",null,(0,sn.__)("Value","simple-history")))),(0,a.createElement)("tbody",null,Object.entries(s.context||{}).map((([e,t])=>(0,a.createElement)("tr",{key:e},(0,a.createElement)("td",null,e),(0,a.createElement)("td",null,t)))))))))}function br(){const e=(()=>{const[e,t]=(0,o.useState)(window.location.hash),n=()=>{t(window.location.hash)};return(0,o.useEffect)((()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)})),[]),e})(),[t,n]=(0,o.useState)(!1),[r,s]=(0,o.useState)(null);(0,o.useEffect)((()=>{const t=e.match(/^#simple-history\/event\/(\d+)/);null!==t?(s(parseInt(t[1],10)),n(!0)):n(!1)}),[e]);return t?(0,a.createElement)(xr,{eventId:r,closeModal:()=>{n(!1),window.location.hash=""}}):null}function Sr(e){const{dateOptions:t,selectedDateOption:n,setSelectedDateOption:s,searchText:i,setSearchText:l,selectedCustomDateFrom:c,setSelectedCustomDateFrom:u,selectedCustomDateTo:d,setSelectedCustomDateTo:m}=e,h=e=>e>new Date;return(0,o.useEffect)((()=>{c&&d&&c>d&&m(c)}),[c,d,m]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,sn.__)("Dates","simple-history")),(0,a.createElement)("div",{style:{display:"inline-block",width:"310px"}},(0,a.createElement)(r.SelectControl,{__nextHasNoMarginBottom:!0,options:t,value:n,onChange:e=>s(e)}))),"customRange"===n?(0,a.createElement)((function(){const e=(0,$a.getSettings)().l10n.startOfWeek;return(0,a.createElement)(r.Flex,{justify:"start",gap:"15"},(0,a.createElement)(r.FlexItem,{style:{width:"95px"}}),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.BaseControl,{label:(0,sn.__)("From date","simple-history")},(0,a.createElement)(r.DatePicker,{id:"simple-history-datepicker-from",startOfWeek:e,onChange:e=>{const t=new Date(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));u(n)},currentDate:c,isInvalidDate:h}))),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.BaseControl,{label:(0,sn.__)("To date","simple-history")},(0,a.createElement)(r.DatePicker,{startOfWeek:e,onChange:e=>{const t=new Date(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));m(n)},currentDate:d,isInvalidDate:h}))))}),null):null,(0,a.createElement)("p",null,(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,sn.__)("Containing words","simple-history")),(0,a.createElement)("input",{type:"search",className:"SimpleHistoryFilterDropin-searchInput",value:i,onChange:e=>l(e.target.value)})))}function kr(e){const{selectedLogLevels:t,setSelectedLogLevels:n,selectedMessageTypes:s,setSelectedMessageTypes:i,selectedUsersWithId:l,setSelectedUsersWithId:c,searchOptions:u}=e,[d,m]=(0,o.useState)([]),[h,p]=(0,o.useState)([]),g=Xn.map((e=>e.label));return(0,o.useEffect)((()=>{if(!u?.loggers)return;const e=[];u.loggers.forEach((t=>{const n=t.search_data||{};n.search&&(e.push({value:n.search.label,search_options:n.search.options}),n?.search_all?.label&&e.push({value:ta+n.search_all.label,search_options:n.search_all.options}),n?.search_options&&n.search_options.forEach((t=>{e.push({value:ta+t.label,search_options:t.options})})))})),m(e)}),[u]),(0,a.createElement)("div",null,(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,sn.__)("Log levels","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,placeholder:(0,sn.__)("All log levels","simple-history"),onChange:e=>{n(e)},suggestions:g,value:t})))),(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,sn.__)("Message types","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:"",placeholder:(0,sn.__)("All message types","simple-history"),onChange:e=>{(e=>{e.map(((t,n)=>{if("string"==typeof t){const a=d.find((e=>e.value.trim()===t.trim()));a&&(e[n]=a)}return t})),i(e)})(e)},value:s.map((e=>(e.value=e.value.replace(ta,""),e))),suggestions:d.map((e=>e.value)),__experimentalRenderItem:e=>e.item.startsWith(ta)?e.item:(0,a.createElement)("strong",null,e.item)})))),(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,sn.__)("Users","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:"",placeholder:(0,sn.__)("All users","simple-history"),onChange:e=>{(e=>{e.map(((t,n)=>{if("string"==typeof t){const a=h.find((e=>e.value===t));a&&(e[n]=a)}return t})),c(e)})(e)},onInputChange:e=>{(async e=>{e.length<2||nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/search-user",{q:e})}).then((e=>{const t=[];e.forEach((e=>{t.push({id:e.id,value:e.display_name+" ("+e.user_email+")"})})),p(t)}))})(e)},suggestions:h.map((e=>e.value)),value:l})),(0,a.createElement)(r.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,sn.__)("Enter 2 or more characters to search for users.","simple-history")}))))}function Tr(e){const{onReload:t,selectedLogLevels:n,setSelectedLogLevels:s,selectedMessageTypes:i,setSelectedMessageTypes:l,selectedDateOption:c,setSelectedDateOption:u,enteredSearchText:d,setEnteredSearchText:m,selectedCustomDateFrom:h,setSelectedCustomDateFrom:p,selectedCustomDateTo:g,setSelectedCustomDateTo:f,selectedUsersWithId:y,setSelectedUsersWithId:_,searchOptionsLoaded:v,setSearchOptionsLoaded:w,setPagerSize:E,setMapsApiKey:x,setHasExtendedSettingsAddOn:b,setHasPremiumAddOn:S,setIsExperimentalFeaturesEnabled:k,setEventsAdminPageURL:T,setEventsSettingsPageURL:M}=e,[C,N]=(0,o.useState)(!1),[O,A]=(0,o.useState)(Jn),[L,I]=(0,o.useState)(null);(0,o.useEffect)((()=>{nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/search-options",{})}).then((e=>{I(e);const t=e.dates.result_months.map((e=>({label:(0,$a.dateI18n)("F Y",e.yearMonth),value:`month:${e.yearMonth}`}))),n={label:(0,sn.__)("All dates","simple-history"),value:"allDates"};A([...Kn,...t,n]),c||u(`lastdays:${e.dates.daysToShow}`),E(e.pager_size),x(e.maps_api_key),b(e.addons.has_extended_settings_add_on),S(e.addons.has_premium_add_on),k(e.experimental_features_enabled),T(e.events_admin_page_url),M(e.settings_page_url),w(!0)}))}),[E,w,u,x,b,S,k,T,M,c]);const P=C?(0,sn.__)("Collapse search options","simple-history"):(0,sn.__)("Show search options","simple-history"),D=v?o.Fragment:r.Disabled;return(0,a.createElement)(D,null,(0,a.createElement)("div",{className:"SimpleHistory-filters"},(0,a.createElement)(Sr,{dateOptions:O,selectedDateOption:c,setSelectedDateOption:u,searchText:d,setSearchText:m,selectedCustomDateFrom:h,setSelectedCustomDateFrom:p,selectedCustomDateTo:g,setSelectedCustomDateTo:f}),C?(0,a.createElement)(kr,{selectedLogLevels:n,setSelectedLogLevels:s,selectedMessageTypes:i,setSelectedMessageTypes:l,setSelectedUsersWithId:_,selectedUsersWithId:y,searchOptions:L}):null,(0,a.createElement)("p",{className:"SimpleHistory__filters__filterSubmitWrap"},(0,a.createElement)(r.Button,{variant:"secondary",onClick:t},(0,sn.__)("Search events","simple-history")),(0,a.createElement)(r.Button,{variant:"tertiary",onClick:()=>N(!C),className:"SimpleHistoryFilterDropin-showMoreFilters SimpleHistoryFilterDropin-showMoreFilters--first js-SimpleHistoryFilterDropin-showMoreFilters"},P))))}const Mr=(0,oa.jsx)(ia.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oa.jsx)(ia.Path,{d:"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z"})});function Cr(e){const{eventsQueryParams:t,eventsMaxId:n,onReload:s}=e,[i,l]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(!t||!n)return;const e=setInterval((async()=>{const e={...t,since_id:n,_fields:null};try{const t=await nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/events/has-updates",e),parse:!1}),n=(await t.json()).new_events_count;n>0&&l(n)}catch(e){console.error("Error when checking for new events:",e)}}),3e4);return()=>{clearInterval(e)}}),[t,n,i]);const c=(0,sn.sprintf)(
// translators: %s: number of new events
// translators: %s: number of new events
(0,sn._n)("%s new event","%s new events",i,"simple-history"),i);return(0,o.useEffect)((()=>{!function(e){let t=document.title;t=t.replace(/^\([\d!]+\) /,""),e&&(t="("+e+") "+t),document.title=t}(i)}),[i]),(0,a.createElement)("div",{className:Ma({SimpleHistoryDropin__NewRowsNotifier:!0,"SimpleHistoryDropin__NewRowsNotifier--haveNewRows":i>0})},(0,a.createElement)(r.Button,{icon:Mr,onClick:()=>{s(),l(0)},label:(0,sn.__)("Click to load new events","simple-history"),showTooltip:!0,variant:"tertiary",style:{width:"100%",justifyContent:"center"}},c))}const Nr=en.array(en.object({id:en.string(),value:en.string()})),Or=en.array(en.object({value:en.string(),search_options:en.array(en.string())})),Ar=function(){const[e,t]=(0,o.useState)(!0),[n,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)({errorCode:void 0,errorMessage:void 0}),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)({}),[m,p]=(0,o.useState)(Date.now()),[g,f]=(0,o.useState)(),[y,_]=(0,o.useState)(),[v,w]=(0,o.useState)(!1),[E,x]=(0,o.useState)(1),[k,T]=(0,o.useState)({}),[N,O]=(0,o.useState)(""),[A,I]=(0,o.useState)(!1),[P,D]=(0,o.useState)(!1),[j,Z]=(0,o.useState)(!1),[F,z]=(0,o.useState)(),[R,H]=(0,o.useState)(),$={throttleMs:"dashboard"===window.pagenow?1/0:50},[U,q]=L("date",S.withDefault("").withOptions($)),[W,B]=L("from",M.withDefault(na).withOptions($)),[V,Y]=L("to",M.withDefault(aa).withOptions($)),[G,Q]=L("q",S.withDefault("").withOptions($)),K=(0,o.useMemo)((()=>[]),[]),[J,X]=L("levels",function(e,t=","){const n=e.eq??((e,t)=>e===t),a=encodeURIComponent(t);return b({parse:n=>""===n?[]:n.split(t).map(((n,r)=>h(e.parse,n.replaceAll(a,t),`[${r}]`))).filter((e=>null!=e)),serialize:n=>n.map((n=>(e.serialize?e.serialize(n):String(n)).replaceAll(t,a))).join(t),eq:(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>n(e,t[a])))})}(S).withDefault(K).withOptions($)),[ee,te]=L("messages",C(Or.parse).withDefault(K).withOptions($)),[ne,ae]=L("users",C(Nr.parse).withDefault(K).withOptions($)),re=(0,o.useMemo)((()=>function(e){const{selectedLogLevels:t,selectedMessageTypes:n,selectedUsersWithId:a,enteredSearchText:r,selectedDateOption:s,selectedCustomDateFrom:i,selectedCustomDateTo:o,page:l,pagerSize:c}=e;let u=c.page;"dashboard"===window.pagenow&&(u=c.dashboard);const d={page:l,per_page:u,_fields:["id","logger","date_local","date_gmt","message","message_html","message_key","details_data","details_html","loglevel","occasions_id","subsequent_occasions_count","initiator","initiator_data","ip_addresses","via","permalink","sticky","sticky_appended"]};if(r&&(d.search=r),s&&("customRange"===s?(d.date_from=Gn(i,"yyyy-MM-dd"),d.date_to=Gn(o,"yyyy-MM-dd")):d.dates=s),t.length){const e=[];t.forEach((t=>{const n=Xn.find((e=>e.label===t));n&&e.push(n.value)})),e.length&&(d.loglevels=e)}if(n.length){const e=[];n.forEach((t=>{t.search_options.forEach((t=>{e.push(t)}))})),d.messages=e.join(",")}if(a.length){const e=a.map((e=>e.id));d.users=e}const m=r||t.length||n.length||a.length;return 1!==l||m||(d.include_sticky=!0),d}({selectedLogLevels:J,selectedMessageTypes:ee,selectedUsersWithId:ne,enteredSearchText:G,selectedDateOption:U,selectedCustomDateFrom:W,selectedCustomDateTo:V,page:E,pagerSize:k})),[U,G,J,ee,ne,W,V,E,k]);(0,o.useEffect)((()=>{x(1)}),[U,G,J,ee,W,V]);const se=(0,o.useCallback)((async()=>{t(!0);try{const e=await nn()({path:(0,rn.addQueryArgs)("/simple-history/v1/events",re),parse:!1}),t=await e.json();if(d({total:parseInt(e.headers.get("X-Wp-Total"),10),totalPages:parseInt(e.headers.get("X-Wp-Totalpages"),10),link:e.headers.get("Link")}),t&&t.length&&1===E){const e=t.find((e=>!e.sticky_appended));f(e.id)}c(t)}catch(e){r(!0);const t={code:null,statusText:null,bodyJson:null,bodyText:null};if(e.headers&&e.status&&e.statusText){const n=e.headers.get("Content-Type");t.code=e.status,t.statusText=e.statusText,n&&n.includes("application/json")?t.bodyJson=await e.json():t.bodyText=await e.text()}else t.bodyText=(0,sn.__)("Unknown error","simple-history");i(t)}finally{t(!1)}}),[re,E]),ie=(0,an.useDebounce)(se,500);(0,o.useEffect)((()=>{v&&ie()}),[ie,v,m]);const oe=()=>{x(1),_(g),p(Date.now())};return(0,o.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[E]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Tr,{selectedLogLevels:J,setSelectedLogLevels:X,selectedMessageTypes:ee,setSelectedMessageTypes:te,selectedDateOption:U,setSelectedDateOption:q,enteredSearchText:G,setEnteredSearchText:Q,selectedCustomDateFrom:W,setSelectedCustomDateFrom:B,selectedCustomDateTo:V,setSelectedCustomDateTo:Y,selectedUsersWithId:ne,setSelectedUsersWithId:ae,searchOptionsLoaded:v,setSearchOptionsLoaded:w,setPagerSize:T,setMapsApiKey:O,setHasExtendedSettingsAddOn:I,setHasPremiumAddOn:D,setIsExperimentalFeaturesEnabled:Z,eventsAdminPageURL:F,setEventsAdminPageURL:z,setEventsSettingsPageURL:H,setPage:x,onReload:oe}),(0,a.createElement)(ka,{isExperimentalFeaturesEnabled:j,eventsIsLoading:e,eventsTotal:u.total,eventsQueryParams:re}),(0,a.createElement)(Cr,{eventsQueryParams:re,eventsMaxId:g,onReload:oe}),(0,a.createElement)(wr,{eventsIsLoading:e,events:l,eventsMeta:u,page:E,pagerSize:k,setPage:x,eventsMaxId:g,prevEventsMaxId:y,mapsApiKey:N,hasExtendedSettingsAddOn:A,hasPremiumAddOn:P,eventsSettingsPageURL:R,eventsAdminPageURL:F,eventsLoadingHasErrors:n,eventsLoadingErrorDetails:s}),(0,a.createElement)(br,null))};var Lr,Ir=x(),Pr=(0,a.createContext)({fullPageNavigationOnShallowFalseUpdates:!1}),Dr=(Lr=function(){const{fullPageNavigationOnShallowFalseUpdates:e}=(0,a.useContext)(Pr),[t,n]=(0,a.useState)((()=>"undefined"==typeof location?new URLSearchParams:new URLSearchParams(location.search)));(0,a.useEffect)((()=>{const e=()=>{n(new URLSearchParams(location.search))};return Ir.on("update",n),window.addEventListener("popstate",e),()=>{Ir.off("update",n),window.removeEventListener("popstate",e)}}),[]);return{searchParams:t,updateUrl:(0,a.useMemo)((()=>function(e){return function(t,n){const a=new URL(location.href);a.search=function(e){if(0===e.size)return"";const t=[];for(const[a,r]of e.entries()){const e=a.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${n=r,n.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,(e=>encodeURIComponent(e)))}`)}var n;return"?"+t.join("&")}(t),e&&!1===n.shallow?("push"===n.history?location.assign:location.replace).call(location,a):("push"===n.history?history.pushState:history.replaceState).call(history,history.state,"",a),Ir.emit("update",t),!0===n.scroll&&window.scrollTo({top:0})}}(e)),[e])}},({children:e,...t})=>(0,a.createElement)(m.Provider,{...t,value:{useAdapter:Lr}},e));function jr({children:e,fullPageNavigationOnShallowFalseUpdates:t=!1}){return(0,a.createElement)(Pr.Provider,{value:{fullPageNavigationOnShallowFalseUpdates:t}},(0,a.createElement)(Dr,null,e))}const Zr=(0,r.withFilters)("SimpleHistory.FilteredComponent")((e=>(0,a.createElement)(a.Fragment,null)));i()((()=>{const e=document.getElementById("simple-history-react-root");e&&o.createRoot&&(0,o.createRoot)(e).render((0,a.createElement)(jr,null,(0,a.createElement)(Ea,null,(0,a.createElement)(r.SlotFillProvider,null,(0,a.createElement)(Zr,null),(0,a.createElement)(Ar,null)))))}))})();